<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
	

  <title>Ollie's Corner</title>
  <meta name="description" content="Checkmark Animation">

  <link rel="stylesheet" type="text/css" href="/css/style.css" >
  <link rel="stylesheet" href="/css/syntax.css">
  <link href='https://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>

  <link rel="canonical" href="http://yourdomain.com/cosmos/4-ollie">
  <link rel="alternate" type="application/rss+xml" title="C4 website" href="http://yourdomain.com/feed.xml">
</head>


    <body class="ollie's corner" data-spy="scroll" data-target="#toc">

    <header>
  <nav class="navbar navbar-default ollie's corner" role="navigation"> 
    <div class="container">
      <div class="row"> 
        <div class="col-xs-12 col-sm-12 col-md-12 navlist">
          <ul class="nav navbar-nav navbar-left">
            <li><a href="/examples">Examples</a></li>
            <li><a href="/tutorials">Tutorials</a></li>
            <li><a href="/cosmos">COSMOS</a></li>
          </ul>
          <div class="logo">
            <a href="/">
              <span class="hidden-xs"><img src="/images/c4logo.png"></span>
            </a>
          </div>
          <ul class="nav navbar-nav navbar-right">
           <li><a href="/install">Install</a></li>
            <li><a href="/forums">Forums</a></li>
            <li><a href="/docs">Documentation</a></li>
          </ul>
        </div>
      </div>  
    </div>        
  </nav>      
</header>

    <div class="container content ollie's corner" >
      <div class="row">
        <div class="col-xs-12 col-md-12 breadcrumb">
          <h1><a href="#">Tutorial</a><div class="bread-caret">></div><a href="/cosmos">COSMOS</a><div class="bread-caret">></div>Ollie's Corner</h1>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-3 col-sm-3 col-md-3">
          <span class="img large">
            <img src="/images/cosmos/1/poster.png" />
          </span>
          <p class="title">Chapter 4<br /><span class="lighter">Ollie's Corner</span></p>
          <p>Tags<br /><a href="#">Ollie</a>, <a href="#">Corner</a>, <a href="#">Tutorial</a>, <a href="#">Getting started</a>, <a href="#">Basics</a>, <a href="#">Introduction</a>, <a href="#">Easy</a>, <a href="#">C4</a>, </p>
          <p>Estimated Time<br /><span class="lighter">1 - 2 hours</span></p>

          <hr />

          <!--<nav id="toc" data-spy="affix" data-toggle="toc" class="affix"></nav>-->
          <nav id="toc" data-toggle="toc"><span class="title">Contents</nav>
        </div>

        <div class="col-xs-9 col-sm-9 col-md-9 tutorial">
          <h1>Checkmark Animation</h1>

<p>In this tutorial I&#39;ll show you how to create the following check mark animation using C4. 
[insert checkmark animation]</p>

<p>After a brainstorm session with Jake and Travis, we determined that in order to accomplish this animation we would need three shapes. 
[insert 3 shapes pictures]</p>

<p>The shapes were designed in Illustrator and then translated to paths using PaintCode. With the paths in Xcode it was just a matter of timing the animations.</p>

<h2>Shaping our Paths</h2>

<h4>Download C4 Installer</h4>

<p>You&#39;ll need to download C4 in order to complete this tutorial. You can find the installer [here]add c4installer link.</p>

<h4>Create Bezier 1</h4>

<p>Open up Xcode and start a new C4 project. In your project&#39;s <code>WorkSpace</code>, start by creating a class variable to use as your first shape. In <code>setup()</code>, change the <code>canvas.backgroundColor</code> to <code>C4Purple</code>, initialize your shape and add it to the canvas :</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">class WorkSpace: C4CanvasController {
    var b1: C4Shape!

    override func setup() {
        canvas.backgroundColor = C4Purple

        b1 = createBezier1()

        canvas.add(b1)
    }

    func createBezier1() -&gt; C4Shape {
        let bezier = UIBezierPath()
        bezier.moveToPoint(CGPointMake(177.2, 30.4))
        bezier.addCurveToPoint(CGPointMake(103.8, 0), controlPoint1: CGPointMake(158.4, 11.6), controlPoint2: CGPointMake(132.5, 0))
        bezier.addCurveToPoint(CGPointMake(0, 103.8), controlPoint1: CGPointMake(46.5, 0), controlPoint2: CGPointMake(0, 46.5))
        bezier.addCurveToPoint(CGPointMake(103.8, 207.6), controlPoint1: CGPointMake(0, 161.1), controlPoint2: CGPointMake(46.5, 207.6))
        bezier.addCurveToPoint(CGPointMake(207.6, 103.8), controlPoint1: CGPointMake(161.1, 207.6), controlPoint2: CGPointMake(207.6, 161.1))
        bezier.addCurveToPoint(CGPointMake(177.2, 30.4), controlPoint1: CGPointMake(207.6, 75.1), controlPoint2: CGPointMake(196, 49.2))
        bezier.addLineToPoint(CGPointMake(69.2, 138.4))

        let path = C4Path(path: bezier.CGPath)
        let shape = C4Shape(path)
        return shape
    }
}
</code></pre></div>
<blockquote>
<p>In the code above, the bezier.moveToPoint, bezier.addLineToPoint, bezier.addCurveToPoint etc. is generated from PaintCode. I just put this in a function and initialized a shape from it.</p>

<p>PaintCode exports UIBezierPaths. To change the <code>UIBezierPath</code> into a <code>C4Shape</code>, I initialized a <code>C4Path</code> with the <code>bezier.CGPath</code> and initialized a <code>C4Shape</code> from this path.</p>
</blockquote>

<p>Now you can manipulate all the properties of <code>C4Shape</code> to achieve your desired animation.</p>

<h4>Create Bezier 2 and 3</h4>

<p>Add two more <code>C4Shape</code> class variables and their createBezier functions. Below your <code>b1</code> class variable add:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">var b2: C4Shape!
var b3: C4Shape!
</code></pre></div>
<p>Then in the body of your class add:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">func createBezier2() -&gt; C4Shape {
    let bezier = UIBezierPath()
    bezier.moveToPoint(CGPointMake(90.9, 138.4))
    bezier.addLineToPoint(CGPointMake(10.6, 58.1))
    bezier.addCurveToPoint(CGPointMake(0, 103.8), controlPoint1: CGPointMake(3.8, 71.9), controlPoint2: CGPointMake(0, 87.4))
    bezier.addCurveToPoint(CGPointMake(103.8, 207.6), controlPoint1: CGPointMake(0, 161.1), controlPoint2: CGPointMake(46.5, 207.6))
    bezier.addCurveToPoint(CGPointMake(207.7, 103.8), controlPoint1: CGPointMake(161.1, 207.6), controlPoint2: CGPointMake(207.7, 161.1))
    bezier.addCurveToPoint(CGPointMake(103.9, 0), controlPoint1: CGPointMake(207.7, 46.5), controlPoint2: CGPointMake(161.3, 0))
    bezier.addCurveToPoint(CGPointMake(10.7, 58.1), controlPoint1: CGPointMake(63, 0), controlPoint2: CGPointMake(27.6, 23.7))

    let path = C4Path(path: bezier.CGPath)
    let shape = C4Shape(path)
    return shape
}

func createBezier3() -&gt; C4Shape {
    let bezier = UIBezierPath()
    bezier.moveToPoint(CGPointMake(138.4, 138.4))
    bezier.addLineToPoint(CGPointMake(30.4, 30.4))
    bezier.addCurveToPoint(CGPointMake(0, 103.8), controlPoint1: CGPointMake(11.6, 49.2), controlPoint2: CGPointMake(0, 75.1))
    bezier.addCurveToPoint(CGPointMake(42, 187.2), controlPoint1: CGPointMake(0, 138), controlPoint2: CGPointMake(16.5, 168.3))
    bezier.addLineToPoint(CGPointMake(160, 69.2))

    let path = C4Path(path: bezier.CGPath)
    let shape = C4Shape(path)
    return shape
}
</code></pre></div>
<h4>Setup the shapes</h4>

<p>Finally, change your <code>setup()</code> function to look like this:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">override func setup() {
    canvas.backgroundColor = C4Purple

    b1 = createBezier1()
    b2 = createBezier2()
    b3 = createBezier3()

    b1.center = canvas.center
    b1.add(b2)
    b1.add(b3)
    canvas.add(b1)
}
</code></pre></div>
<p>Create your new shapes the same way as your first. Then add them to that shape. Try running the app now and you should see something that looks like this:</p>

<p>[insert picture of just shapes no configuration]</p>

<h2>Animations</h2>

<p>To get the effect we&#39;re looking for in this animation your shapes&#39; <code>strokeColor</code>, <code>strokeStart</code> and <code>strokeEnd</code> properties need to be manipulated in a <code>C4ViewAnimation</code>. Here&#39;s how to change the color:</p>

<h4>animate()</h4>

<p>Start by adding these class variables:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">var x = false
let d = 0.5
let dc = 0.25
</code></pre></div>
<p>The boolean named <code>x</code> will be used to track if your shapes are in their X state or not. The other two variables are constant values that will be used for timing your animations.</p>

<p>Add the following function to the body of your class:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">func animate(color: C4Color) {
    C4ViewAnimation(duration: d + dc) {
        self.b1.strokeColor = color
        self.b2.strokeColor = color
        self.b3.strokeColor = color
    }.animate()
}
</code></pre></div>
<p>This function takes a <code>C4Color</code> as a parameter and animates your shapes&#39; <code>strokeColor</code> to this parameter. The next step will go over how this function is called.</p>

<p>In <code>setup()</code> add a tap gesture to your canvas so you can start interacting with your app.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">canvas.addTapGestureRecognizer { location, state in
    if self.x {
        self.animate(C4Blue)
    } else {
        self.animate(C4Pink)
    }
    self.x = !self.x
}
</code></pre></div>
<p>This tap gesture will check to see if your boolean <code>x</code> is true or false and change the color of your shapes accordingly. <code>self.x = !self.x</code> will change <code>x</code> to whatever it is not. So, if <code>x</code> is true <code>x</code> is now false.</p>

<h4>Create B1 Animations</h4>

<p>Add these class variables to your project:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">var b1ToX: C4ViewAnimation!
var b1ToCheck: C4ViewAnimation!
</code></pre></div>
<p>Moving from &quot;check&quot; state to &quot;X&quot; state and vice-versa requires animations. Your next step is to add this function to the body of your class:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">func createB1Animations() {
    b1ToX = C4ViewAnimation(duration: d) {
        self.b1.strokeStart = 0.6
    }
    b1ToX.curve = .EaseIn

    b1ToX.addCompletionObserver { () -&gt; Void in
        let a = C4ViewAnimation(duration: self.dc) {
            self.b1.strokeStart = 0.88
            self.b1.strokeEnd = 1.0
        }
        a.curve = .EaseOut
        a.animate()
    }

    b1ToCheck = C4ViewAnimation(duration: d) {
        self.b1.strokeStart = 0.6
        self.b1.strokeEnd = 0.81
    }
    b1ToCheck.curve = .EaseIn
    b1ToCheck.addCompletionObserver { () -&gt; Void in
        let a = C4ViewAnimation(duration: self.dc) {
            self.b1.strokeStart = 0.0
        }
        a.curve = .EaseOut
        a.animate()
    }

}
</code></pre></div>
<p>In this function, you&#39;re initializing your animations and setting their curve. You add a completion observer to your animations so that upon that animation completing, another animation will be triggered. </p>

<h4>Create B2 and B3 Animations</h4>

<p>The steps for creating the animations for your other shapes are the same as the steps for your first shape. This next bit should look familiar.</p>

<p>Add these class variables:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">var b2ToX: C4ViewAnimation!
var b2ToCheck: C4ViewAnimation!

var b3ToX: C4ViewAnimation!
var b3ToCheck: C4ViewAnimation!
</code></pre></div>
<p>Create these functions that will initialize our animations when called:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">func createB2Animations() {
    b2ToX = C4ViewAnimation(duration: d) {
        self.b2.strokeStart = 0.15
        self.b2.strokeEnd = 0.21
    }
    b2ToX.curve = .EaseIn
    b2ToX.addCompletionObserver { () -&gt; Void in
        let a = C4ViewAnimation(duration: self.dc) {
            self.b2.strokeEnd = 1.0
        }
        a.curve = .EaseOut
        a.animate()
    }

    b2ToCheck = C4ViewAnimation(duration: d) {
        self.b2.strokeEnd = 0.21
    }
    b2ToCheck.curve = .EaseIn
    b2ToCheck.addCompletionObserver { () -&gt; Void in
        let a = C4ViewAnimation(duration: self.dc) {
            self.b2.strokeStart = 0.0
            self.b2.strokeEnd = 0.06
        }
        a.curve = .EaseOut
        a.animate()
    }
}

func createB3Animations() {
    b3ToX = C4ViewAnimation(duration: d) {
        self.b3.strokeStart = 0.0
        self.b3.strokeEnd = 0.19
    }

    b3ToCheck = C4ViewAnimation(duration: d) {
        self.b3.strokeStart = 0.804
        self.b3.strokeEnd = 1.0
    }
}
</code></pre></div>
<blockquote>
<p>I experimented with different <code>strokeStart</code> and <code>strokeEnd</code> values before settling on the one&#39;s used in this tutorial.</p>
</blockquote>

<p>The last thing to do for this step is to call all of your create animations functions in <code>setup()</code>. Above your tap gesture add:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">createB1Animations()
createB2Animations()
createB3Animations()
</code></pre></div>
<h2>Putting it all together</h2>

<p>To make things a little more organized, create a function to handle everything that happens when the state changes to &quot;X&quot; and a function for when it changes to &quot;Check&quot;.</p>

<h4>toX() and toCheck()</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">func toX() {
    b1ToX.animate()
    delay(0.15) {
        self.b3ToX.animate()
    }
    delay(0.3) {
        self.b2ToX.animate()
    }
}

func toCheck() {
    b2ToCheck.animate()
    delay(0.5) {
        self.b3ToCheck.animate()
        self.b1ToCheck.animate()
    }
}
</code></pre></div>
<p>When these functions are called, they will make the animations you created earlier animate.</p>

<h4>The tap gesture</h4>

<p>Change the tap gesture to the following:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">canvas.addTapGestureRecognizer { location, state in
    if self.x {
        self.toCheck()
        self.animate(C4Blue)
    } else {
        self.toX()
        self.animate(C4Pink)
    }
    self.x = !self.x
}
</code></pre></div>
<p>The logic of the gesture is the same as before, but now your <code>toCheck()</code> and <code>toX()</code> functions will be called at the appropriate times.</p>

<h4>Fin</h4>

<p>Run your app now and tap to see the great animation you just created. I encourage you to try new shapes and values in the animations to see what cool effects you can come up with!</p>

<p>//insert gif of animation</p>

        </div>
      </div>

      <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12">
          <h1 class="text-center blue">Well done! Continue COSMOS?</h1>
          <ul class="next-prev list-unstyled">
            
              <li>
                <a class="more previous" href="/cosmos/3-plan-it" title="Earlier article: Chapter 3 – Plan It!"><< Chapter 3 – Plan It!</a>
                <p>Get your goggles on as we start diving into the code with C4.</p>
              </li>
            
            
          </ul>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12 col-md-12">
          <ul class="examples-list list-unstyled">
            
            
              <li>
                <a href="/cosmos/1-prelude-to-design">
                  <div>
                    <span class="img">
                      <img src="/images/1/poster.png" />
                    </span>
                    <div class="text">
                      <p class="title">Chapter 1<br />Prelude To Design</p>
                      <p>An overview explaining why & how we chose to create COSMOS in the first place.</p>
                    </text>
                  </div>
                </a>
              </li>
            
              <li>
                <a href="/cosmos/2-designing-the-cosmos">
                  <div>
                    <span class="img">
                      <img src="/images//chapter1.png" />
                    </span>
                    <div class="text">
                      <p class="title">Chapter <br />Chapter 2 – Designing the COSMOS</p>
                      <p>Where to start? Defining the visual concept and deciding the functionality.</p>
                    </text>
                  </div>
                </a>
              </li>
            
              <li>
                <a href="/cosmos/3-plan-it">
                  <div>
                    <span class="img">
                      <img src="/images//chapter1.png" />
                    </span>
                    <div class="text">
                      <p class="title">Chapter <br />Chapter 3 – Plan It!</p>
                      <p>Get your goggles on as we start diving into the code with C4.</p>
                    </text>
                  </div>
                </a>
              </li>
            
              <li>
                <a href="/cosmos/4-ollie">
                  <div>
                    <span class="img">
                      <img src="/images/4/poster.png" />
                    </span>
                    <div class="text">
                      <p class="title">Chapter 4<br />Ollie's Corner</p>
                      <p>This is all about Ollie</p>
                    </text>
                  </div>
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-md-3">
        <ul class="list-unstyled">
          <li class="title"><a href="/about">About</a></li>
          <li><a href="/about/features">Features</a></li>
          <li><a href="/about/history">History</a></li>
          <li><a href="/about/contributors">Contributors</a></li>
        </ul>
      </div>
      <div class="col-md-3">
        <ul class="list-unstyled">
          <li class="title"><a href="/learn">Learn + Explore</a></li>
          <li><a href="/install">Install C4</a></li>
          <li><a href="/examples">Examples</a></li>
          <li><a href="/tutorials">Tutorials</a></li>
          <li><a href="/docs">Docs</a></li>
        </ul>
      </div>
      <div class="col-md-3">
        <ul class="list-unstyled">
          <li class="title"><a href="/contact">Connect</a></li>
          <li><a href="/forums">Forums</a></li>
          <li><a href="http://www.medium.com/@c4framework" target="_blank">Medium</a></li>
          <li><a href="http://www.twitter.com/c4framework" target="_blank">Twitter</a></li>
          <li><a href="https://join-c4.herokuapp.com/" target="_blank">Slack</a></li>
          <li><a href="https://vimeo.com/c4ios" target="_blank">Vimeo</a></li>
          <li><a href="http://github.com/c4framework" target="_blank">GitHub</a></li>
        </ul>
      </div>
      <div class="col-md-3">
        <ul class="list-unstyled">
          <li class="title"><a href="/about">Sign Up for Newsletter</a></li>
          <li><input type="text" placeholder="Enter Email + Press Enter"></li>
          <li>© 2016 C4</li>
          <li><a href="/terms">Terms of Use</a></li>
          <li><a href="/contact">Contact</a></li>
        </ul>    
      </div>
    </div>
  </div>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="/js/bootstrap.min.js"></script>

    <!-- <script src="/js/toc.js"></script>
    <script type="text/javascript">
      $(document).ready(function() {
          $('#toc').toc();
      });
    </script>
    -->
    <script src="/js/bootstrap-toc.js"></script>
    <link href="/css/bootstrap-toc.css" rel="stylesheet">
    <script>
      Toc.init({
        $nav: $('#toc'),
        $scope: $('.col-md-9')
      });
    </script>
  </body>
</html>
