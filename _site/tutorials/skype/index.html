<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
	

  <title>Skype Loader</title>
  <meta name="description" content="Your mission, should you choose to accept it, is to build the Skype loading animation using C4.">
  <meta property="og:image" content="http://www.c4ios.com/images/banner.jpg">
  <meta property="og:url"   content="http://c4ios.com" />
  <meta property="og:title" content="Skype Loader"/>
  <meta name="og:description" content="Your mission, should you choose to accept it, is to build the Skype loading animation using C4.">
  <meta property="og:type"  content="website"/>
  <meta property="og:site_name"  content="C4"/>

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@c4framework">
  <meta name="twitter:creator" content="@c4framework">
  <meta name="twitter:title" content="Skype Loader">
  <meta name="twitter:description" content="Your mission, should you choose to accept it, is to build the Skype loading animation using C4.">
  <meta name="twitter:image" content="http://www.c4ios.com/images/banner.jpg">


  <link rel="stylesheet" type="text/css" href="/css/style.css" >
  <link rel="stylesheet" href="/css/syntax.css">
  <link href='https://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>

  <link rel="canonical" href="www.c4ios.com/tutorials/skype/">
  <link rel="alternate" type="application/rss+xml" title="C4 website" href="www.c4ios.com/feed.xml">
</head>

    <body class="skype loader" data-spy="scroll" data-target="#toc">

    <header>
  <nav class="navbar navbar-default" role="navigation"> 
    <div class="navbar-header container">
      <div class="row"> 
        <div class="col-xs-12 col-sm-12 col-md-12 navlist">
          <a class="navbar-brand" href="/">
            <span><img src="/images/c4logo.png"></span>
          </a>
          <ul class="nav navbar-nav navbar-left">
            <li><a href="/install" >Install</a></li>
            <li><a href="/tutorials" class='active'>Tutorials</a></li>
            <li><a href="/cosmos" >COSMOS</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="/examples" >Examples</a></li>
            <li><a href="http://discourse.c4ios.com">Forums</a></li>
            <li><a href="http://cocoadocs.org/docsets/C4/1.1.0/">Documentation</a></li>
          </ul>
        </div>
      </div>  
    </div>        
  </nav>      
</header>

    <div class="container content skype loader" >
      <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 breadcrumb">
          <h1><a href="/tutorials">Tutorials</a><div class="bread-caret">></div>Skype Loader</h1>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-3 col-sm-3 col-md-3">
          <span class="img large">
            <img src="/images/tutorials/skype/poster.png" />
          </span>
          <p>Author<br /><span class="lighter">Ollie (with a little &#10084; from Travis)</span></p>
          <p class="post-tags">
  Tags<br /> 
  
  
  <a href="/tags/#getting started">getting started</a>,
  
  <a href="/tags/#basics">basics</a>,
  
  <a href="/tags/#introduction">introduction</a>,
  
  <a href="/tags/#easy">easy</a>,
  
  <a href="/tags/#c4">c4</a>
  
</p>
          <p>Estimated Time<br /><span class="lighter">10 - 20 minutes</span></p>

          <hr />

          <div id="toc"></div>
        </div>

        <div class="col-xs-9 col-sm-9 col-md-9 tutorial">
          <p>Your mission, should you choose to accept it, is to build the Skype loading animation using C4.</p>

<p>This is what the animation looks like:</p>

<p><img src="" alt="" data-id="ElementaryNaturalGalapagoshawk" class="gfyitem" /></p>

<p>This is a great animation to write a tutorial on because although it looks great, it’s fairly simple when it’s broken down. The circles in the animation are identical, except for their start time and duration.</p>

<p>A circle begins animating, then after a short delay another circle begins to animate, until all four circles have started animating. To have all the circles converge near the end of their rotation, their animation duration is less their delay.</p>

<p>Now, I’ll walk you through the steps to recreate this animation.</p>

<blockquote>
  <p>If you haven’t already done so, install C4 by following the instructions on our <a href="http://www.c4ios.com/install">install tutorial</a>. The easiest is to use the first option.</p>
</blockquote>

<div class="highlighter-rouge"><pre class="highlight"><code>Create a new C4 Project
</code></pre>
</div>

<h2 id="the-views-here-are-great">The Views here are great</h2>
<p>Though there are 4 circles in the Skype loading animation, we’re going to use an additional 5 invisible views to create the effect we want to achiever.</p>

<p>Let’s get to it.</p>

<h3 id="create-the-views-and-circles">Create the Views and Circles</h3>
<p>In your project’s <code class="highlighter-rouge">WorkSpace</code> add two arrays and a <code class="highlighter-rouge">View</code> as class variables. Override <code class="highlighter-rouge">setup()</code> and set the <code class="highlighter-rouge">canvas.backgroundColor</code> to a nice blue and call <code class="highlighter-rouge">createViewsCircles()</code>.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11</pre></td><td class="code"><pre><span class="kd">class</span> <span class="kt">WorkSpace</span><span class="p">:</span> <span class="kt">CanvasController</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">views</span> <span class="o">=</span> <span class="p">[</span><span class="kt">View</span><span class="p">]()</span>
    <span class="k">var</span> <span class="nv">circles</span> <span class="o">=</span> <span class="p">[</span><span class="kt">Circle</span><span class="p">]()</span>
    <span class="k">var</span> <span class="nv">container</span><span class="p">:</span> <span class="kt">View</span><span class="o">!</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">canvas</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="kt">Color</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mi">64</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mi">177</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mi">239</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span>

        <span class="nf">createViewsCircles</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>Create a function called <code class="highlighter-rouge">createViewsCircles()</code>. In this function, you’re going to initialize a container, 4 views and 4 circles.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20</pre></td><td class="code"><pre>    
<span class="kd">func</span> <span class="nf">createViewsCircles</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">container</span> <span class="o">=</span> <span class="kt">View</span><span class="p">(</span><span class="nv">frame</span><span class="p">:</span> <span class="kt">Rect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">_</span> <span class="k">in</span> <span class="mi">1</span><span class="o">...</span><span class="mi">4</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">v</span> <span class="o">=</span> <span class="kt">View</span><span class="p">(</span><span class="nv">frame</span><span class="p">:</span> <span class="kt">Rect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
        <span class="n">views</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">c</span> <span class="o">=</span> <span class="kt">Circle</span><span class="p">(</span><span class="nv">center</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="nv">radius</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">width</span><span class="o">/</span><span class="mf">2.0</span><span class="p">)</span>
        <span class="n">c</span><span class="o">.</span><span class="n">lineWidth</span> <span class="o">=</span> <span class="mf">10.0</span>
        <span class="n">c</span><span class="o">.</span><span class="n">strokeColor</span> <span class="o">=</span> <span class="n">white</span>
        <span class="n">c</span><span class="o">.</span><span class="n">fillColor</span> <span class="o">=</span> <span class="n">white</span>
        <span class="n">circles</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="n">v</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="n">v</span><span class="o">.</span><span class="n">anchorPoint</span> <span class="o">=</span> <span class="kt">Point</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">7.5</span><span class="p">)</span>
        <span class="n">v</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">container</span><span class="o">.</span><span class="n">center</span>
        <span class="n">container</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
    <span class="n">container</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span>
<span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<h4 id="run-it">Run It!</h4>
<p>This is what you should see:</p>

<p><img src="seeminglySingleDot.png" alt="" /></p>

<p>It <strong>looks</strong> like a single dot, but dots can be deceiving.</p>

<h4 id="whats-happening">What’s happening???</h4>
<p>This method does the following:</p>

<ul>
  <li>creates a container</li>
  <li>loops 4 times, which…</li>
  <li>creates an invisible 10x10 view</li>
  <li>into which a 10x10 white circle is added</li>
  <li>then offsets the anchorPoint of the view</li>
  <li>which is then added to the container</li>
  <li>then the container is added to the center of the canvas</li>
</ul>

<blockquote>
  <p>Changing the anchor point of a view offsets what it “believes” is its center point.</p>
</blockquote>

<h4 id="why-so-complex">Why so complex???</h4>
<p>There’s a particular motion to the Skype loader. What we found was this:</p>

<ul>
  <li>The circles start at the top at full-size</li>
  <li>The circles start rotating counter-clockwise</li>
  <li>Each circle’s rotation motion is offset by a fraction of a second</li>
  <li>When the circles each arrive at approx. 1/8th of a rotation they shrink</li>
  <li>When the circles each arrive at approx. 7/8th of a rotation they grow</li>
  <li>This process repeats.</li>
</ul>

<p>From this process we deduced a couple of things:</p>

<ol>
  <li>The easing and motion of the resizing of the circles is independent of their rotation</li>
  <li>The rotation has an <code class="highlighter-rouge">.EaseInOut</code> effect throughout its entire motion</li>
  <li>The growth pattern takes up about 1/4 of a full rotation</li>
</ol>

<p>So,…</p>

<ol>
  <li>We use an “non-moving” circle to perform the resize (i.e. not moving within its superview)</li>
  <li>We rotate the superview of the circle by 180 degrees easing it in and out</li>
  <li>We rotate the container of each view by 180 degress</li>
</ol>

<blockquote>
  <p>It is the combination of an <code class="highlighter-rouge">.EaseInOut</code> motion of the view’s rotation within the motion of its superview container that creates the proper timing and easing for the entire animation</p>
</blockquote>

<h2 id="create-the-animations">Create the Animations</h2>
<p>There are two major steps in this section: animate the views, and animate the circles. We’ll start with the views.</p>

<h3 id="view-animations">View Animations</h3>
<p>Add the following class variables and a constant for the duration.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td><td class="code"><pre><span class="k">let</span> <span class="nv">duration</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="k">var</span> <span class="nv">viewAnimationGroup</span><span class="p">:</span> <span class="kt">ViewAnimationGroup</span><span class="o">!</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>Then, add the following function to your <code class="highlighter-rouge">WorkSpace</code>:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13</pre></td><td class="code"><pre><span class="kd">func</span> <span class="nf">createAnimations</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">vanims</span> <span class="o">=</span> <span class="p">[</span><span class="kt">ViewAnimation</span><span class="p">]()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mi">0</span><span class="o">..&lt;</span><span class="n">views</span><span class="o">.</span><span class="n">count</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">v</span> <span class="o">=</span> <span class="n">views</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">let</span> <span class="nv">offset</span> <span class="o">=</span> <span class="kt">Double</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.05</span>
        <span class="k">let</span> <span class="nv">va</span> <span class="o">=</span> <span class="kt">ViewAnimation</span><span class="p">(</span><span class="nv">duration</span><span class="p">:</span> <span class="n">duration</span><span class="o">/</span><span class="mf">4.0</span> <span class="o">+</span> <span class="mf">0.3</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">v</span><span class="o">.</span><span class="n">rotation</span> <span class="o">+=</span> <span class="kt">M_PI</span>
        <span class="p">}</span>
        <span class="n">va</span><span class="o">.</span><span class="n">delay</span> <span class="o">=</span> <span class="n">offset</span>
        <span class="n">vanims</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="n">va</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">viewAnimationGroup</span> <span class="o">=</span> <span class="kt">ViewAnimationGroup</span><span class="p">(</span><span class="nv">animations</span><span class="p">:</span> <span class="n">vanims</span><span class="p">)</span>
<span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<blockquote>
  <p>Each view starts its rotation with a slight offset.</p>
</blockquote>

<p>Then, call that method in <code class="highlighter-rouge">setup()</code>…</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5</pre></td><td class="code"><pre><span class="k">override</span> <span class="kd">func</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">canvas</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="kt">Color</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mi">64</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mi">177</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mi">239</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span>
    <span class="nf">createViewsCircles</span><span class="p">()</span>
    <span class="nf">createAnimations</span><span class="p">()</span>
<span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<h3 id="time-it-out">Time it Out</h3>
<p>For this example, we’re going to trigger the animations with a repeating timer. Add the following variable to your <code class="highlighter-rouge">WorkSpace</code>:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre><span class="k">var</span> <span class="nv">animationTimer</span><span class="p">:</span> <span class="kt">Timer</span><span class="o">!</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>Then, at the end of <code class="highlighter-rouge">setup()</code>, right after creating the animations, add the following:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5</pre></td><td class="code"><pre><span class="n">animationTimer</span> <span class="o">=</span> <span class="kt">Timer</span><span class="p">(</span><span class="nv">interval</span><span class="p">:</span> <span class="n">duration</span><span class="o">/</span><span class="mf">4.0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">self</span><span class="o">.</span><span class="n">viewAnimationGroup</span><span class="o">.</span><span class="nf">animate</span><span class="p">()</span>
<span class="p">}</span>
<span class="n">animationTimer</span><span class="o">.</span><span class="nf">start</span><span class="p">()</span>
<span class="n">animationTimer</span><span class="o">.</span><span class="nf">fire</span><span class="p">()</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<h4 id="run-it-1">Run it!</h4>
<p>Press play, and you should see this:</p>

<p><img src="" alt="" data-id="SeriousFrequentGander" class="gfyitem" /></p>

<p>The simple motion of the views.</p>

<h3 id="shrink-and-grow">Shrink and Grow</h3>
<p>Now, let’s modify the <code class="highlighter-rouge">createAnimations()</code> function to generate animations for the shrinking and growing of each circle. Add another <code class="highlighter-rouge">ViewAnimationGroup</code> to the <code class="highlighter-rouge">WorkSpace</code>:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre><span class="k">var</span> <span class="nv">circleAnimationGroup</span><span class="p">:</span> <span class="kt">ViewAnimationGroup</span><span class="o">!</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>Then, modify <code class="highlighter-rouge">createAnimations()</code> to look like:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></td><td class="code"><pre><span class="kd">func</span> <span class="nf">createAnimations</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">canims</span> <span class="o">=</span> <span class="p">[</span><span class="kt">ViewAnimation</span><span class="p">]()</span>
    <span class="k">var</span> <span class="nv">vanims</span> <span class="o">=</span> <span class="p">[</span><span class="kt">ViewAnimation</span><span class="p">]()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mi">0</span><span class="o">..&lt;</span><span class="n">views</span><span class="o">.</span><span class="n">count</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">v</span> <span class="o">=</span> <span class="n">views</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">let</span> <span class="nv">offset</span> <span class="o">=</span> <span class="kt">Double</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.05</span>
        <span class="k">let</span> <span class="nv">va</span> <span class="o">=</span> <span class="kt">ViewAnimation</span><span class="p">(</span><span class="nv">duration</span><span class="p">:</span> <span class="n">duration</span><span class="o">/</span><span class="mf">4.0</span> <span class="o">+</span> <span class="mf">0.3</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">v</span><span class="o">.</span><span class="n">rotation</span> <span class="o">+=</span> <span class="kt">M_PI</span>
        <span class="p">}</span>
        <span class="n">va</span><span class="o">.</span><span class="n">delay</span> <span class="o">=</span> <span class="n">offset</span>
        <span class="n">vanims</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="n">va</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">c</span> <span class="o">=</span> <span class="n">circles</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">let</span> <span class="nv">ca</span> <span class="o">=</span> <span class="kt">ViewAnimation</span><span class="p">(</span><span class="nv">duration</span><span class="p">:</span> <span class="n">duration</span><span class="o">/</span><span class="mf">8.0</span> <span class="o">+</span> <span class="mf">0.15</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">c</span><span class="o">.</span><span class="n">lineWidth</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="p">}</span>
        <span class="n">ca</span><span class="o">.</span><span class="n">delay</span> <span class="o">=</span> <span class="n">offset</span>
        <span class="n">ca</span><span class="o">.</span><span class="n">autoreverses</span> <span class="o">=</span> <span class="kc">true</span>
        <span class="n">ca</span><span class="o">.</span><span class="n">addCompletionObserver</span> <span class="p">{</span>
            <span class="kt">ShapeLayer</span><span class="o">.</span><span class="n">disableActions</span> <span class="o">=</span> <span class="kc">true</span>
            <span class="n">c</span><span class="o">.</span><span class="n">lineWidth</span> <span class="o">=</span> <span class="mf">10.0</span>
            <span class="kt">ShapeLayer</span><span class="o">.</span><span class="n">disableActions</span> <span class="o">=</span> <span class="kc">false</span>
        <span class="p">}</span>
        <span class="n">canims</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="n">ca</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">viewAnimationGroup</span> <span class="o">=</span> <span class="kt">ViewAnimationGroup</span><span class="p">(</span><span class="nv">animations</span><span class="p">:</span> <span class="n">vanims</span><span class="p">)</span>
    <span class="n">circleAnimationGroup</span> <span class="o">=</span> <span class="kt">ViewAnimationGroup</span><span class="p">(</span><span class="nv">animations</span><span class="p">:</span> <span class="n">canims</span><span class="p">)</span>
<span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>Next, trigger the circle animations from the timer:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4</pre></td><td class="code"><pre><span class="n">animationTimer</span> <span class="o">=</span> <span class="kt">Timer</span><span class="p">(</span><span class="nv">interval</span><span class="p">:</span> <span class="n">duration</span><span class="o">/</span><span class="mf">4.0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">self</span><span class="o">.</span><span class="n">viewAnimationGroup</span><span class="o">.</span><span class="nf">animate</span><span class="p">()</span>
    <span class="k">self</span><span class="o">.</span><span class="n">circleAnimationGroup</span><span class="o">.</span><span class="nf">animate</span><span class="p">()</span>
<span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<h4 id="run-it-again">Run it, Again!</h4>
<p>Press play, and you should see this:</p>

<p><img src="" alt="" data-id="GorgeousLegalBunny" class="gfyitem" /></p>

<p>Nice. Almost there…</p>

<h3 id="container-animation">Container Animation</h3>
<p>The container also needs to rotate, so the last step is to create an animation to handle that. In <code class="highlighter-rouge">setup()</code> add the last bit of code.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6</pre></td><td class="code"><pre><span class="k">let</span> <span class="nv">containerAnim</span> <span class="o">=</span> <span class="kt">ViewAnimation</span><span class="p">(</span><span class="nv">duration</span><span class="p">:</span> <span class="n">duration</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">rotation</span> <span class="o">+=</span> <span class="mf">2*</span><span class="kt">M_PI</span>
<span class="p">}</span>
<span class="n">containerAnim</span><span class="o">.</span><span class="n">curve</span> <span class="o">=</span> <span class="o">.</span><span class="kt">Linear</span>
<span class="n">containerAnim</span><span class="o">.</span><span class="n">repeats</span> <span class="o">=</span> <span class="kc">true</span>
<span class="n">containerAnim</span><span class="o">.</span><span class="nf">animate</span><span class="p">()</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<h2 id="call-ended">Call Ended.</h2>
<p>Run your app now and you should see something that looks like this:</p>

<p><img src="" alt="" data-id="ElementaryNaturalGalapagoshawk" class="gfyitem" /></p>

<p>That was an easy one…</p>

<blockquote>
  <p>Actually, it took us a long time to decipher the motion of the circles and figure out how to re-construct the animation usin layers and layers of views.</p>
</blockquote>

<h3 id="code">Code</h3>
<p>You can grab a copy of the code for this project from <a href="https://gist.github.com/C4Framework/1c2914aec0f2254bd009">HERE</a></p>


        </div>
      </div>
    </div>

    <div class="container">
      <div class="row related-tutorial">
        <div class="col-xs-12 col-md-12">
          <h1 class="text-center blue">Nice Work! Explore More Tutorials?</h1>
          <ul class="examples-list list-unstyled">
            
            
              <li>
                <a href="/tutorials/slack-logo/">
                  <div>
                    <span class="img">
                      <img src="/images/tutorials/slack-logo/poster.png" />
                    </span>
                    <div class="text">
                      <p><span>Slack Logo</span><br />Animating the Slack Logo.</p>
                    </div>                    
                  </div>
                </a>
              </li>
            
              <li>
                <a href="/tutorials/customizing-switch/">
                  <div>
                    <span class="img">
                      <img src="/images/tutorials/customizing-switch/poster.png" />
                    </span>
                    <div class="text">
                      <p><span>Customizing A Switch</span><br />We've already hacked UISwitch, now let's add animations!</p>
                    </div>                    
                  </div>
                </a>
              </li>
            
              <li>
                <a href="/tutorials/skype/">
                  <div>
                    <span class="img">
                      <img src="/images/tutorials/skype/poster.png" />
                    </span>
                    <div class="text">
                      <p><span>Skype Loader</span><br />A View within a View within a View.</p>
                    </div>                    
                  </div>
                </a>
              </li>
            
              <li>
                <a href="/tutorials/checkmark/">
                  <div>
                    <span class="img">
                      <img src="/images/tutorials/checkmark/poster.png" />
                    </span>
                    <div class="text">
                      <p><span>Checkmark</span><br />An sweetly timed animation.</p>
                    </div>                    
                  </div>
                </a>
              </li>
            
              <li>
                <a href="/tutorials/hacking-uiswitch/">
                  <div>
                    <span class="img">
                      <img src="/images/tutorials/hacking-uiswitch/poster.png" />
                    </span>
                    <div class="text">
                      <p><span>Hacking UISwitch</span><br />How to hack a UIKit component.</p>
                    </div>                    
                  </div>
                </a>
              </li>
            
              <li>
                <a href="/tutorials/processing/">
                  <div>
                    <span class="img">
                      <img src="/images/tutorials/processing/poster.png" />
                    </span>
                    <div class="text">
                      <p><span>Processing Examples</span><br />A brief comparison of Processing and C4.</p>
                    </div>                    
                  </div>
                </a>
              </li>
            
              <li>
                <a href="/tutorials/basics/">
                  <div>
                    <span class="img">
                      <img src="/images/tutorials/basics/poster.png" />
                    </span>
                    <div class="text">
                      <p><span>Basics</span><br />An intro to C4's basic objects and features.</p>
                    </div>                    
                  </div>
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-md-3 col-sm-3 col-xs-6">
        <ul class="list-unstyled">
          <li class="title"><a href="/#overview">About</a></li>
          <li><a href="/#overview">Features</a></li>
          <!-- <li><a href="/about#history">History</a></li> -->
          <!-- <li><a href="/about/contributors">Contributors</a></li> -->
        </ul>
      </div>
      <div class="col-md-3 col-sm-3 col-xs-6">
        <ul class="list-unstyled">
          <li class="title"><a href="/learn">Learn + Explore</a></li>
          <li><a href="/install">Install C4</a></li>
          <li><a href="/examples">Examples</a></li>
          <li><a href="/tutorials">Tutorials</a></li>
          <li><a href="http://cocoadocs.org/docsets/C4/1.1.0/">Docs</a></li>
        </ul>
      </div>
      <div class="col-md-3 col-sm-3 col-xs-6">
        <ul class="list-unstyled">
          <li class="title"><a href="/contact">Connect</a></li>
          <li><a href="http://discourse.c4ios.com">Forums</a></li>
          <li><a href="http://www.medium.com/@c4framework" target="_blank">Medium</a></li>
          <li><a href="http://www.twitter.com/c4framework" target="_blank">Twitter</a></li>
          <li><a href="https://join-c4.herokuapp.com/" target="_blank">Slack</a></li>
          <li><a href="https://vimeo.com/c4ios" target="_blank">Vimeo</a></li>
          <li><a href="http://github.com/c4framework" target="_blank">GitHub</a></li>
        </ul>
      </div>
      <div class="col-md-3 col-sm-3 col-xs-6">
        <ul class="list-unstyled">
          <!-- <li class="title"><a href="/about">Sign Up for Newsletter</a></li>
          <li><input type="text" placeholder="Enter Email + Press Enter"></li> -->
          <li>© 2016 C4</li>
          <li><a href="/terms">Terms of Use</a></li>
          <li><a href="mailto:info@c4ios.com">Contact</a></li>
        </ul>    
      </div>
    </div>
  </div>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-18444113-4', 'auto');
  ga('send', 'pageview');
</script>


    <script type="text/javascript" src="/js/toc.js"></script>
    <script>
     (function(d, t) {
        var g = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        g.src = 'http://assets.gfycat.com/js/gfyajax-0.517d.js';
        s.parentNode.insertBefore(g, s);
      }(document, 'script'));
    </script>
    <script type="text/javascript">
      $(document).ready(function() {
        $('#toc').width($('#toc').parents().width());

        $('#toc').toc({
          elementClass: 'toc',
          ulClass: 'nav',
          heading: 'Contents',
          indexingFormats: 'number',
          selector: 'h2:not(.toc-omit), h3:not(.toc-omit), h4:not(.toc-omit)'
        });

        $('body').scrollspy({
          target: '#toc',
          offset: $('#headerNav').outerHeight(true)
        });

        setTimeout(function() {
          var $sideBar = $('#toc');
          $sideBar.affix({
            offset: {
              top: function() {
                var offsetTop = $sideBar.offset().top,
                sideBarMargin  = parseInt($sideBar.children(0).css('margin-top'), 10),
                navOuterHeight = $('#headerNav').height();
                return (this.top = offsetTop - navOuterHeight - sideBarMargin);
              },
              bottom: function() {
                return (this.bottom = $('footer').outerHeight(true) + $('.chapter-nav').outerHeight(true) + $('.related-tutorial').outerHeight(true) + 500);
              }
            }
          });
        }, 100);

        $('td.gutter').each(function(index)
        {
          $(this).parents('.language-swift').closest('pre').addClass('has-gutter');
        });

        $('.tutorial img').each(function()
        {
          var img = $(this).attr('src');
          $(this).attr('src', '/images/tutorials/skype/' + img + '').addClass('img-responsive');
        });

        $('.tutorial p img').unwrap().wrap('<figure></figure>').after(function() {
            return '<figcaption>'+this.alt+'</figcaption>';
        });

        $('.footnotes').prepend('<h4>Footnotes</h4>');
      });
    </script>
  </body>
</html>