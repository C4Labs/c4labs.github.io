<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
	

  <title>Hacking UISwitch</title>
  <meta name="description" content="Hacking UISwitch">
  <meta property="og:image" content="http://www.c4ios.com/images/banner.jpg">
  <meta property="og:url"   content="http://c4ios.com" />
  <meta property="og:title" content="Hacking UISwitch"/>
  <meta name="og:description" content="Hacking UISwitch">
  <meta property="og:type"  content="website"/>
  <meta property="og:site_name"  content="C4"/>

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@c4framework">
  <meta name="twitter:creator" content="@c4framework">
  <meta name="twitter:title" content="Hacking UISwitch">
  <meta name="twitter:description" content="Hacking UISwitch">
  <meta name="twitter:image" content="http://www.c4ios.com/images/banner.jpg">


  <link rel="stylesheet" type="text/css" href="/css/style.css" >
  <link rel="stylesheet" href="/css/syntax.css">
  <link href='https://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>

  <link rel="canonical" href="www.c4ios.com/tutorials/hacking-uiswitch/">
  <link rel="alternate" type="application/rss+xml" title="C4 website" href="www.c4ios.com/feed.xml">
</head>

    <body class="hacking uiswitch" data-spy="scroll" data-target="#toc">

    <header>
  <nav class="navbar navbar-default" role="navigation"> 
    <div class="navbar-header container">
      <div class="row"> 
        <div class="col-xs-12 col-sm-12 col-md-12 navlist">
          <a class="navbar-brand" href="/">
            <span><img src="/images/c4logo.png"></span>
          </a>
          <ul class="nav navbar-nav navbar-left">
            <li><a href="/install" >Install</a></li>
            <li><a href="/tutorials" class='active'>Tutorials</a></li>
            <li><a href="/cosmos" >COSMOS</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="/examples" >Examples</a></li>
            <li><a href="http://discourse.c4ios.com">Forums</a></li>
            <li><a href="http://cocoadocs.org/docsets/C4/1.1.0/">Documentation</a></li>
          </ul>
        </div>
      </div>  
    </div>        
  </nav>      
</header>

    <div class="container content hacking uiswitch" >
      <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 breadcrumb">
          <h1><a href="/tutorials">Tutorials</a><div class="bread-caret">></div>Hacking UISwitch</h1>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-3 col-sm-3 col-md-3">
          <span class="img large">
            <img src="/images/tutorials/hacking-uiswitch/poster.png" />
          </span>
          <p>Author<br /><span class="lighter"></span></p>
          <p>Tags<br /><a href="/tag/getting started">getting started</a>, <a href="/tag/basics">basics</a>, <a href="/tag/introduction">introduction</a>, <a href="/tag/easy">easy</a>, <a href="/tag/c4">c4</a>, </p>
          <p>Estimated Time<br /><span class="lighter">10 - 20 minutes</span></p>

          <hr />

          <div id="toc"></div>
        </div>

        <div class="col-xs-9 col-sm-9 col-md-9 tutorial">
          <h1 id="hacking-uiswitch">Hacking UISwitch</h1>

<p>For our Switch tutorial Ollie and I had put together a WorkSpace that had a lot of animation code, and I wasn’t very happy about that. I wanted to have a tighter version of the switch example and wanted it also to run efficiently. I decided to see if it were possible to hack an actual UIKit element and put some C4 code right into it. It worked.</p>

<p>This tutorial goes through my process of creating the Switch class.</p>

<h2 id="decomopsing-a-uikit-object">Decomopsing A UIKit Object</h2>
<p>To hack <code class="highlighter-rouge">UISwitch</code> I need to first know how its constructed. I know that a switch is a subclass of <code class="highlighter-rouge">UIControl</code>, which means that I can treat it like a basic view. I also know that all views contain subviews, so to figure out the switch structure I need to print out the view hierarchy.</p>

<p>I write a little script that would print out the view hierarchy of the object. The script looks like this:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre></td><td class="code"><pre><span class="k">override</span> <span class="kd">func</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">myswitch</span> <span class="o">=</span> <span class="kt">UISwitch</span><span class="p">()</span>
        <span class="nf">listSubviews</span><span class="p">(</span><span class="n">myswitch</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">listSubviews</span><span class="p">(</span><span class="nv">view</span><span class="p">:</span> <span class="kt">UIView</span><span class="p">,</span> <span class="nv">tabs</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="n">subview</span> <span class="k">in</span> <span class="n">view</span><span class="o">.</span><span class="n">subviews</span> <span class="p">{</span>
        <span class="k">var</span> <span class="nv">tab</span> <span class="o">=</span> <span class="s">""</span>
        <span class="k">for</span> <span class="n">_</span> <span class="k">in</span> <span class="mi">0</span><span class="o">..&lt;</span><span class="n">tabs</span> <span class="p">{</span>
            <span class="n">tab</span> <span class="o">+=</span> <span class="s">"</span><span class="se">\t</span><span class="s">"</span>
        <span class="p">}</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">tab</span> <span class="o">+</span> <span class="s">" </span><span class="se">\(</span><span class="n">subview</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="nf">listSubviews</span><span class="p">(</span><span class="n">subview</span><span class="p">,</span> <span class="nv">tabs</span><span class="p">:</span> <span class="n">tabs</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>The <code class="highlighter-rouge">listSubviews</code> method takes a view and prints out its subviews, taking both the view and the current level as input. I use the <code class="highlighter-rouge">tabs</code> variable to format the printed statements in the console. After printing each view I run <code class="highlighter-rouge">listSubviews</code> on it (recursion).</p>

<p>Running the script from a C4 project, I get the following output in the Xcode console:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9</pre></td><td class="code"><pre> <span class="o">&lt;</span><span class="nv">_UISwitchInternalViewNeueStyle1</span><span class="p">:</span> <span class="mh">0x7fcbc2d0da30</span><span class="p">;</span> <span class="n">frame</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span> <span class="mi">0</span><span class="p">;</span> <span class="mi">51</span> <span class="mi">31</span><span class="p">);</span> <span class="n">gestureRecognizers</span> <span class="o">=</span> <span class="o">&lt;</span><span class="kt">NSArray</span><span class="p">:</span> <span class="mh">0x7fcbc2d1c110</span><span class="o">&gt;</span><span class="p">;</span> <span class="n">layer</span> <span class="o">=</span> <span class="o">&lt;</span><span class="kt">CALayer</span><span class="p">:</span> <span class="mh">0x7fcbc2d0de90</span><span class="o">&gt;&gt;</span>
   <span class="o">&lt;</span><span class="kt">UIView</span><span class="p">:</span> <span class="mh">0x7fcbc2d0e700</span><span class="p">;</span> <span class="n">frame</span> <span class="o">=</span> <span class="p">(</span><span class="mf">15.5</span> <span class="mi">0</span><span class="p">;</span> <span class="mf">35.5</span> <span class="mi">31</span><span class="p">);</span> <span class="n">clipsToBounds</span> <span class="o">=</span> <span class="kt">YES</span><span class="p">;</span> <span class="n">layer</span> <span class="o">=</span> <span class="o">&lt;</span><span class="kt">CALayer</span><span class="p">:</span> <span class="mh">0x7fcbc2d0e870</span><span class="o">&gt;&gt;</span>
     <span class="o">&lt;</span><span class="kt">UIView</span><span class="p">:</span> <span class="mh">0x7fcbc2d0e1d0</span><span class="p">;</span> <span class="n">frame</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mf">15.5</span> <span class="mi">0</span><span class="p">;</span> <span class="mi">51</span> <span class="mi">31</span><span class="p">);</span> <span class="n">layer</span> <span class="o">=</span> <span class="o">&lt;</span><span class="kt">CALayer</span><span class="p">:</span> <span class="mh">0x7fcbc2d0e340</span><span class="o">&gt;&gt;</span>
   <span class="o">&lt;</span><span class="kt">UIView</span><span class="p">:</span> <span class="mh">0x7fcbc2d0e570</span><span class="p">;</span> <span class="n">frame</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span> <span class="mi">0</span><span class="p">;</span> <span class="mf">15.5</span> <span class="mi">31</span><span class="p">);</span> <span class="n">clipsToBounds</span> <span class="o">=</span> <span class="kt">YES</span><span class="p">;</span> <span class="n">layer</span> <span class="o">=</span> <span class="o">&lt;</span><span class="kt">CALayer</span><span class="p">:</span> <span class="mh">0x7fcbc2d0e6e0</span><span class="o">&gt;&gt;</span>
     <span class="o">&lt;</span><span class="kt">UIView</span><span class="p">:</span> <span class="mh">0x7fcbc2d0e360</span><span class="p">;</span> <span class="n">frame</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span> <span class="mi">0</span><span class="p">;</span> <span class="mi">51</span> <span class="mi">31</span><span class="p">);</span> <span class="n">layer</span> <span class="o">=</span> <span class="o">&lt;</span><span class="kt">CALayer</span><span class="p">:</span> <span class="mh">0x7fcbc2d0e4d0</span><span class="o">&gt;&gt;</span>
   <span class="o">&lt;</span><span class="kt">UIView</span><span class="p">:</span> <span class="mh">0x7fcbc2d1d5d0</span><span class="p">;</span> <span class="n">frame</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span> <span class="mi">0</span><span class="p">;</span> <span class="mi">51</span> <span class="mi">31</span><span class="p">);</span> <span class="n">layer</span> <span class="o">=</span> <span class="o">&lt;</span><span class="kt">CALayer</span><span class="p">:</span> <span class="mh">0x7fcbc2d1d210</span><span class="o">&gt;&gt;</span>
     <span class="o">&lt;</span><span class="kt">UIImageView</span><span class="p">:</span> <span class="mh">0x7fcbc2d1cb70</span><span class="p">;</span> <span class="n">frame</span> <span class="o">=</span> <span class="p">(</span><span class="mi">39</span> <span class="mi">16</span><span class="p">;</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">);</span> <span class="n">userInteractionEnabled</span> <span class="o">=</span> <span class="kt">NO</span><span class="p">;</span> <span class="n">tintColor</span> <span class="o">=</span> <span class="kt">UIDeviceWhiteColorSpace</span> <span class="mf">0.7</span> <span class="mi">1</span><span class="p">;</span> <span class="n">layer</span> <span class="o">=</span> <span class="o">&lt;</span><span class="kt">CALayer</span><span class="p">:</span> <span class="mh">0x7fcbc2d1b970</span><span class="o">&gt;&gt;</span>
     <span class="o">&lt;</span><span class="kt">UIImageView</span><span class="p">:</span> <span class="mh">0x7fcbc2d1d420</span><span class="p">;</span> <span class="n">frame</span> <span class="o">=</span> <span class="p">(</span><span class="mi">12</span> <span class="mi">16</span><span class="p">;</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">);</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">userInteractionEnabled</span> <span class="o">=</span> <span class="kt">NO</span><span class="p">;</span> <span class="n">tintColor</span> <span class="o">=</span> <span class="kt">UIDeviceWhiteColorSpace</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">;</span> <span class="n">layer</span> <span class="o">=</span> <span class="o">&lt;</span><span class="kt">CALayer</span><span class="p">:</span> <span class="mh">0x7fcbc2d1d3f0</span><span class="o">&gt;&gt;</span>
   <span class="o">&lt;</span><span class="kt">UIImageView</span><span class="p">:</span> <span class="mh">0x7fcbc2d0ef30</span><span class="p">;</span> <span class="n">frame</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">13</span> <span class="o">-</span><span class="mi">6</span><span class="p">;</span> <span class="mi">57</span> <span class="mf">43.5</span><span class="p">);</span> <span class="n">opaque</span> <span class="o">=</span> <span class="kt">NO</span><span class="p">;</span> <span class="n">userInteractionEnabled</span> <span class="o">=</span> <span class="kt">NO</span><span class="p">;</span> <span class="n">layer</span> <span class="o">=</span> <span class="o">&lt;</span><span class="kt">CALayer</span><span class="p">:</span> <span class="mh">0x7fcbc2d1c090</span><span class="o">&gt;&gt;</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>Nasty, but not too nasty. To me I read this output as:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10</pre></td><td class="code"><pre><span class="kt">Switch</span>
  <span class="kt">Internal</span> <span class="kt">View</span>
    <span class="kt">View</span>
      <span class="kt">View</span>
    <span class="kt">View</span>
      <span class="kt">View</span>
    <span class="kt">View</span>
      <span class="kt">Image</span>
      <span class="kt">Image</span>
    <span class="kt">Image</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>Rather, there are basically 4 main subviews for me to explore. The top-level “internal” view has the gesture recognizer on it. The remaining layer have <code class="highlighter-rouge">userInteractionEnabled = NO</code>, implying that they are all used for the appearance of the switch.</p>

<p>Next, I want to “see” the structure of each of the subviews.</p>

<h3 id="looking-at-the-subviews">Looking at the Subviews</h3>
<p>I want to toggle each subview on / off to actually see how they contribute to the look of the switch. To do this I write a simple function that gives me the ability to toggle:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre></td><td class="code"><pre><span class="k">override</span> <span class="kd">func</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">myswitch</span> <span class="o">=</span> <span class="kt">UISwitch</span><span class="p">()</span>
    <span class="n">myswitch</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="kt">CGPoint</span><span class="p">(</span><span class="n">canvas</span><span class="o">.</span><span class="n">center</span><span class="p">)</span>
    <span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">myswitch</span><span class="p">)</span>
    <span class="nf">toggleSubviews</span><span class="p">(</span><span class="n">myswitch</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">internal</span> <span class="kd">func</span> <span class="nf">toggleSubviews</span><span class="p">(</span><span class="nv">uiswitch</span><span class="p">:</span> <span class="kt">UISwitch</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">subviews</span> <span class="o">=</span> <span class="n">uiswitch</span><span class="o">.</span><span class="n">subviews</span>
    <span class="k">let</span> <span class="nv">mainView</span> <span class="o">=</span> <span class="n">subviews</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">let</span> <span class="nv">subview</span> <span class="o">=</span> <span class="n">mainView</span><span class="o">.</span><span class="n">subviews</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1">// remember there are 4!</span>
    <span class="n">canvas</span><span class="o">.</span><span class="n">addTapGestureRecognizer</span> <span class="p">{</span> <span class="p">(</span><span class="n">location</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">()</span> <span class="k">in</span>
        <span class="n">subview</span><span class="o">.</span><span class="n">hidden</span> <span class="o">=</span> <span class="o">!</span><span class="n">subview</span><span class="o">.</span><span class="n">hidden</span>
    <span class="p">}</span>
<span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>Now when I tap I can see the right-hand side of the background “pill” disappearing and reappearing.</p>

<p>//NEED IMAGE GIF HERE</p>

<p>I go through each of the other subviews to get a sense of the visual construction…</p>

<p>The following makes the left-hand side of the pill toggle.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre><span class="k">let</span> <span class="nv">subview</span> <span class="o">=</span> <span class="n">mainView</span><span class="o">.</span><span class="n">subviews</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>The following doesn’t seem to do anything:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre><span class="k">let</span> <span class="nv">subview</span> <span class="o">=</span> <span class="n">mainView</span><span class="o">.</span><span class="n">subviews</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<blockquote>
  <p>In the docs for <code class="highlighter-rouge">UISwitch</code> I notice that there are <code class="highlighter-rouge">onImage</code> and <code class="highlighter-rouge">offImage</code> properties, both of which have the following statement: “In iOS 7, this property has no effect.” So, I surmise <code class="highlighter-rouge">subviews[2]</code> probably has something to do with that…</p>
</blockquote>

<p>The following makes the thumbnail toggle:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre><span class="k">let</span> <span class="nv">subview</span> <span class="o">=</span> <span class="n">mainView</span><span class="o">.</span><span class="n">subviews</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>From these tests I get the sense that I’m going to need to do the following:</p>

<ol>
  <li>Strip subviews 0, 1, and 2 from the switch</li>
  <li>Replace the image in subview 3 with my own custom thumb view</li>
  <li>Add my own custom background view to the main subview</li>
  <li>Both the thumb and the background should be their own classes</li>
</ol>

<h2 id="the-thumbnail">The Thumbnail</h2>
<p>I start by creating a thumbnail class called <code class="highlighter-rouge">SwitchThumbnail</code>. It looks like this:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></td><td class="code"><pre><span class="kd">@IBDesignable</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="kt">SwitchThumb</span><span class="p">:</span> <span class="kt">Circle</span> <span class="p">{</span>
    <span class="n">convenience</span> <span class="kd">public</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">center</span><span class="p">:</span> <span class="kt">Point</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">),</span> <span class="nv">radius</span><span class="p">:</span> <span class="mi">14</span><span class="p">)</span>
        <span class="n">lineWidth</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="nf">setup</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">toggle</span><span class="p">(</span><span class="nv">force</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">ViewAnimation</span><span class="p">(</span><span class="nv">duration</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="n">force</span> <span class="p">{</span>
                <span class="k">self</span><span class="o">.</span><span class="nf">on</span><span class="p">()</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="k">self</span><span class="o">.</span><span class="nf">off</span><span class="p">()</span>
            <span class="p">}</span>
            <span class="p">}</span><span class="o">.</span><span class="nf">animate</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">on</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">fillColor</span> <span class="o">=</span> <span class="kt">C4Pink</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">off</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">fillColor</span> <span class="o">=</span> <span class="kt">C4Blue</span>
    <span class="p">}</span>
<span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>Since the thumbnail should always be the same size, I make sure there’s an <code class="highlighter-rouge">init()</code> that takes no variables. I also override the main <code class="highlighter-rouge">init(center...)</code> method so that it forces the creation of a standard sized shape. In this init I also call <code class="highlighter-rouge">setup()</code> (to be consistent with C4) and set the <code class="highlighter-rouge">lineWidth</code> to 0.</p>

<p>I then create 2 methods called <code class="highlighter-rouge">off</code> and <code class="highlighter-rouge">on</code> and give them some rules. I do this because I’m already thinking of how people might subclass <code class="highlighter-rouge">SwitchThumb</code>. I want it to be easy to change the look / feel of the thumb by having people override these two methods.</p>

<p>Finally, I create the <code class="highlighter-rouge">toggle</code> method that triggers an animation and calls either <code class="highlighter-rouge">on</code> or <code class="highlighter-rouge">off</code> depending on the state of the switch.</p>

<h2 id="the-background">The Background</h2>
<p>I create a second class for the background of the switch. The structure of this class is very similar to that of the thumbnail. The class looks like this:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39</pre></td><td class="code"><pre><span class="kd">@IBDesignable</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="kt">SwitchBackground</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="k">override</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">()</span>
        <span class="k">self</span><span class="o">.</span><span class="n">frame</span> <span class="o">=</span> <span class="kt">Rect</span><span class="p">(</span><span class="kt">UISwitch</span><span class="p">()</span><span class="o">.</span><span class="n">frame</span><span class="p">)</span>
        <span class="nf">applyMask</span><span class="p">()</span>
        <span class="nf">setup</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="kd">internal</span> <span class="kd">func</span> <span class="nf">applyMask</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">backgroundMask</span> <span class="o">=</span> <span class="kt">Rectangle</span><span class="p">(</span><span class="nv">frame</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">bounds</span><span class="p">)</span>
        <span class="n">backgroundMask</span><span class="o">.</span><span class="n">lineWidth</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">backgroundMask</span><span class="o">.</span><span class="n">corner</span> <span class="o">=</span> <span class="kt">Size</span><span class="p">(</span><span class="n">height</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">height</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">self</span><span class="o">.</span><span class="n">mask</span> <span class="o">=</span> <span class="n">backgroundMask</span>

        <span class="k">self</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="kt">C4Pink</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">toggle</span><span class="p">(</span><span class="nv">force</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">ViewAnimation</span><span class="p">(</span><span class="nv">duration</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="n">force</span> <span class="p">{</span>
                <span class="k">self</span><span class="o">.</span><span class="nf">on</span><span class="p">()</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="k">self</span><span class="o">.</span><span class="nf">off</span><span class="p">()</span>
            <span class="p">}</span>
            <span class="p">}</span><span class="o">.</span><span class="nf">animate</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">on</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="kt">C4Purple</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">off</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="kt">C4Pink</span>
    <span class="p">}</span>
<span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>The major difference here is that there is an <code class="highlighter-rouge">applyMask</code> method whose sole function is to mask the background into a pill-shape. Also, notice how I force the size of the background to be the same size as that of a standard <code class="highlighter-rouge">UISwitch</code>.</p>

<h2 id="the-switch">The Switch</h2>
<p>This is where we’re going to subclass <code class="highlighter-rouge">UISwitch</code>. We will get rid of all the unnecessary views and substitute our own custom background and thumbnail. This is what the class looks like:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62</pre></td><td class="code"><pre><span class="kd">@IBDesignable</span>
<span class="kd">class</span> <span class="kt">Switch</span><span class="p">:</span> <span class="kt">UISwitch</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">thumb</span><span class="p">:</span> <span class="kt">SwitchThumb</span><span class="p">?</span>
    <span class="k">var</span> <span class="nv">background</span><span class="p">:</span> <span class="kt">SwitchBackground</span><span class="p">?</span>

    <span class="kd">required</span> <span class="nf">init</span><span class="p">?(</span><span class="nv">coder</span><span class="p">:</span> <span class="kt">NSCoder</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">coder</span><span class="p">:</span> <span class="n">coder</span><span class="p">)</span>
        <span class="n">thumb</span> <span class="o">=</span> <span class="kt">SwitchThumb</span><span class="p">()</span>
        <span class="n">background</span> <span class="o">=</span> <span class="kt">SwitchBackground</span><span class="p">()</span>
        <span class="nf">replaceViews</span><span class="p">()</span>
        <span class="nf">setup</span><span class="p">()</span>
        <span class="nf">toggle</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="nf">init</span><span class="p">(</span><span class="nv">frame</span><span class="p">:</span> <span class="kt">CGRect</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">frame</span><span class="p">:</span> <span class="n">frame</span><span class="p">)</span>
        <span class="n">thumb</span> <span class="o">=</span> <span class="kt">SwitchThumb</span><span class="p">()</span>
        <span class="n">background</span> <span class="o">=</span> <span class="kt">SwitchBackground</span><span class="p">()</span>
        <span class="nf">replaceViews</span><span class="p">()</span>
        <span class="nf">setup</span><span class="p">()</span>
        <span class="nf">toggle</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="nf">init</span><span class="p">(</span><span class="n">thumb</span> <span class="nv">aThumb</span><span class="p">:</span> <span class="kt">SwitchThumb</span><span class="p">?</span> <span class="o">=</span> <span class="kt">SwitchThumb</span><span class="p">(),</span> <span class="n">background</span> <span class="nv">aBackground</span><span class="p">:</span> <span class="kt">SwitchBackground</span><span class="p">?</span> <span class="o">=</span> <span class="kt">SwitchBackground</span><span class="p">())</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">frame</span><span class="p">:</span> <span class="kt">CGRect</span><span class="p">())</span>

        <span class="n">thumb</span> <span class="o">=</span> <span class="n">aThumb</span>
        <span class="n">background</span> <span class="o">=</span> <span class="n">aBackground</span>
        <span class="nf">replaceViews</span><span class="p">()</span>
        <span class="nf">setup</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="kd">internal</span> <span class="kd">func</span> <span class="nf">replaceViews</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">subviews</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">subviews</span>
        <span class="k">let</span> <span class="nv">mainView</span> <span class="o">=</span> <span class="n">subviews</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">let</span> <span class="nv">imageView</span> <span class="o">=</span> <span class="n">subviews</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">subviews</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="k">as!</span> <span class="kt">UIImageView</span>
        <span class="n">thumb</span><span class="p">?</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="kt">Point</span><span class="p">(</span><span class="kt">Double</span><span class="p">(</span><span class="n">imageView</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">width</span><span class="o">-</span><span class="mf">28.66666</span><span class="p">),</span> <span class="kt">Double</span><span class="p">(</span><span class="n">imageView</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">midY</span><span class="o">-</span><span class="mf">0.66666</span><span class="p">))</span>
        <span class="n">imageView</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">thumb</span><span class="o">!.</span><span class="n">view</span><span class="p">)</span>
        <span class="n">imageView</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">()</span>

        <span class="k">self</span><span class="o">.</span><span class="nf">addTarget</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="s">"toggle"</span><span class="p">,</span> <span class="nv">forControlEvents</span><span class="p">:</span> <span class="kt">UIControlEvents</span><span class="o">.</span><span class="kt">ValueChanged</span><span class="p">)</span>

        <span class="n">mainView</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">background</span><span class="p">)</span>
        <span class="n">mainView</span><span class="o">.</span><span class="nf">bringToFront</span><span class="p">(</span><span class="n">imageView</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">sv0</span> <span class="o">=</span> <span class="n">mainView</span><span class="o">.</span><span class="n">subviews</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">let</span> <span class="nv">sv1</span> <span class="o">=</span> <span class="n">mainView</span><span class="o">.</span><span class="n">subviews</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">let</span> <span class="nv">sv2</span> <span class="o">=</span> <span class="n">mainView</span><span class="o">.</span><span class="n">subviews</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

        <span class="n">mainView</span><span class="o">.</span><span class="nf">remove</span><span class="p">(</span><span class="n">sv0</span><span class="p">)</span>
        <span class="n">mainView</span><span class="o">.</span><span class="nf">remove</span><span class="p">(</span><span class="n">sv1</span><span class="p">)</span>
        <span class="n">mainView</span><span class="o">.</span><span class="nf">remove</span><span class="p">(</span><span class="n">sv2</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">toggle</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">thumb</span><span class="p">?</span><span class="o">.</span><span class="nf">toggle</span><span class="p">(</span><span class="n">on</span><span class="p">)</span>
        <span class="k">self</span><span class="o">.</span><span class="n">background</span><span class="p">?</span><span class="o">.</span><span class="nf">toggle</span><span class="p">(</span><span class="n">on</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<h3 id="the-inits">The <code class="highlighter-rouge">inits</code></h3>
<p>There are 3 initializers in this class:</p>

<ul>
  <li>init?(coder:)</li>
  <li>init(frame:)</li>
  <li>init(thumb:, background:)</li>
</ul>

<p>The first <code class="highlighter-rouge">init</code> is required to be compatible with <code class="highlighter-rouge">UIKit</code>, it gets called when a view is initialized from Interface Builder. The second initializer can be used when constructing a switch from code and not IB. The third initializer is a convenience for quickly creating a switch by passing two objects: a thumb and a background.</p>

<h3 id="replacing-views">Replacing Views</h3>
<p>This method strips the first three subviews of the standard object, and adds our custom views as well as a target / action. First, it adds our custom thumb object to the topmost image view:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6</pre></td><td class="code"><pre><span class="k">let</span> <span class="nv">subviews</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">subviews</span>
<span class="k">let</span> <span class="nv">mainView</span> <span class="o">=</span> <span class="n">subviews</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">let</span> <span class="nv">imageView</span> <span class="o">=</span> <span class="n">subviews</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">subviews</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="k">as!</span> <span class="kt">UIImageView</span>
<span class="n">thumb</span><span class="p">?</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="kt">Point</span><span class="p">(</span><span class="kt">Double</span><span class="p">(</span><span class="n">imageView</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">width</span><span class="o">-</span><span class="mf">28.66666</span><span class="p">),</span> <span class="kt">Double</span><span class="p">(</span><span class="n">imageView</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">midY</span><span class="o">-</span><span class="mf">0.66666</span><span class="p">))</span>
<span class="n">imageView</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">thumb</span><span class="o">!.</span><span class="n">view</span><span class="p">)</span>
<span class="n">imageView</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">()</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>In doing so, it also centers the thumb based on the position of the image view. I manually calculate the 28.66666… so that our view fit nicely over top of the original image. Once the thumb is centered, it eliminates the underlying image by providing the image view with null contents (i.e. <code class="highlighter-rouge">UIImage()</code>).</p>

<p>The next step adds a target-action to the switch so that it runs the <code class="highlighter-rouge">toggle</code> method when activiated.</p>

<p>Then, it adds the background to the main view, and makes sure the main image view (i.e. <code class="highlighter-rouge">subview[3]</code>) remains on top:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td><td class="code"><pre><span class="n">mainView</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">background</span><span class="p">)</span>
<span class="n">mainView</span><span class="o">.</span><span class="nf">bringToFront</span><span class="p">(</span><span class="n">imageView</span><span class="p">)</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>Finally, the unnecessary views are stripped from the object:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7</pre></td><td class="code"><pre><span class="k">let</span> <span class="nv">sv0</span> <span class="o">=</span> <span class="n">mainView</span><span class="o">.</span><span class="n">subviews</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">let</span> <span class="nv">sv1</span> <span class="o">=</span> <span class="n">mainView</span><span class="o">.</span><span class="n">subviews</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="k">let</span> <span class="nv">sv2</span> <span class="o">=</span> <span class="n">mainView</span><span class="o">.</span><span class="n">subviews</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

<span class="n">mainView</span><span class="o">.</span><span class="nf">remove</span><span class="p">(</span><span class="n">sv0</span><span class="p">)</span>
<span class="n">mainView</span><span class="o">.</span><span class="nf">remove</span><span class="p">(</span><span class="n">sv1</span><span class="p">)</span>
<span class="n">mainView</span><span class="o">.</span><span class="nf">remove</span><span class="p">(</span><span class="n">sv2</span><span class="p">)</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<h3 id="toggling">Toggling</h3>
<p>The last part of the switch class links the toggle method with the underlying thumb and background objects:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4</pre></td><td class="code"><pre><span class="kd">func</span> <span class="nf">toggle</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">self</span><span class="o">.</span><span class="n">thumb</span><span class="p">?</span><span class="o">.</span><span class="nf">toggle</span><span class="p">(</span><span class="n">on</span><span class="p">)</span>
    <span class="k">self</span><span class="o">.</span><span class="n">background</span><span class="p">?</span><span class="o">.</span><span class="nf">toggle</span><span class="p">(</span><span class="n">on</span><span class="p">)</span>
<span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<h2 id="using-the-switch">Using the Switch</h2>
<p>You can use the switch in two different ways, either create it yourself or position it with Interface Builder.</p>

<h3 id="do-it-yourself">Do It Yourself</h3>
<p>Here’s how you can construct a switch on your own:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7</pre></td><td class="code"><pre><span class="kd">class</span> <span class="kt">WorkSpace</span><span class="p">:</span> <span class="kt">CanvasController</span> <span class="p">{</span>
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">s</span> <span class="o">=</span> <span class="kt">Switch</span><span class="p">(</span><span class="nv">thumb</span><span class="p">:</span> <span class="kt">SwitchThumb</span><span class="p">(),</span> <span class="nv">background</span><span class="p">:</span> <span class="kt">SwitchBackground</span><span class="p">())</span>
        <span class="n">s</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="kt">CGPoint</span><span class="p">(</span><span class="n">canvas</span><span class="o">.</span><span class="n">center</span><span class="p">)</span>
        <span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p><img src="switch.png" alt="From Code" /></p>

<h3 id="interface-build-it">Interface Build It</h3>
<p>Using Interface Builder, you drag a regular <code class="highlighter-rouge">UISwitch</code> onto your main storyboard, and then change the object class to <code class="highlighter-rouge">Switch</code>.</p>

<p><img src="InterfaceBuilder.png" alt="Interface Builder" /></p>

<h2 id="wrapping-up">Wrapping Up</h2>
<p>This tutorial walked through my process for figuring out the structure of a standard <code class="highlighter-rouge">UIKit</code> component, the <code class="highlighter-rouge">UISwitch</code>. It also showed how to build a new subclass so that it is fairly easy for someone else to use. You can learn how to build a custom subclass of <code class="highlighter-rouge">Switch</code> our <a href="ollie'slink">other tutorial</a>.</p>

<p>We are thinking about how to best integrate UIKit elements into C4, but for now Switch is an experiment. If you want to use it you can grab the 3 files from <a href="https://gist.github.com/C4Framework/5dc3d3ba629454a9d474">HERE</a>, and drop them into your C4 project.</p>

        </div>
      </div>
    </div>

    <div class="container">
      <div class="row related-tutorial">
        <div class="col-xs-12 col-md-12">
          <h1 class="text-center blue">Nice Work! Explore More Tutorials?</h1>
          <ul class="examples-list list-unstyled">
            
            
              <li>
                <a href="/tutorials/slack-logo/">
                  <div>
                    <span class="img">
                      <img src="/images/tutorials/slack-logo/poster.png" />
                    </span>
                    <div class="text">
                      <p><span>Slack Logo</span><br />Animating the Slack Logo.</p>
                    </div>                    
                  </div>
                </a>
              </li>
            
              <li>
                <a href="/tutorials/customizing-switch/">
                  <div>
                    <span class="img">
                      <img src="/images/tutorials/customizing-switch/poster.png" />
                    </span>
                    <div class="text">
                      <p><span>Customizing A Switch</span><br />We've already hacked UISwitch, now let's add animations!</p>
                    </div>                    
                  </div>
                </a>
              </li>
            
              <li>
                <a href="/tutorials/skype/">
                  <div>
                    <span class="img">
                      <img src="/images/tutorials/skype/poster.png" />
                    </span>
                    <div class="text">
                      <p><span>Skype Loader</span><br />A View within a View within a View.</p>
                    </div>                    
                  </div>
                </a>
              </li>
            
              <li>
                <a href="/tutorials/checkmark/">
                  <div>
                    <span class="img">
                      <img src="/images/tutorials/checkmark/poster.png" />
                    </span>
                    <div class="text">
                      <p><span>Checkmark</span><br />An sweetly timed animation.</p>
                    </div>                    
                  </div>
                </a>
              </li>
            
              <li>
                <a href="/tutorials/hacking-uiswitch/">
                  <div>
                    <span class="img">
                      <img src="/images/tutorials/hacking-uiswitch/poster.png" />
                    </span>
                    <div class="text">
                      <p><span>Hacking UISwitch</span><br />How to hack a UIKit component.</p>
                    </div>                    
                  </div>
                </a>
              </li>
            
              <li>
                <a href="/tutorials/processing/">
                  <div>
                    <span class="img">
                      <img src="/images/tutorials/processing/poster.png" />
                    </span>
                    <div class="text">
                      <p><span>Processing Examples</span><br />A brief comparison of Processing and C4.</p>
                    </div>                    
                  </div>
                </a>
              </li>
            
              <li>
                <a href="/tutorials/basics/">
                  <div>
                    <span class="img">
                      <img src="/images/tutorials/basics/poster.png" />
                    </span>
                    <div class="text">
                      <p><span>Basics</span><br />An intro to C4's basic objects and features.</p>
                    </div>                    
                  </div>
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-md-3 col-sm-3 col-xs-6">
        <ul class="list-unstyled">
          <li class="title"><a href="/#overview">About</a></li>
          <li><a href="/#overview">Features</a></li>
          <!-- <li><a href="/about#history">History</a></li> -->
          <!-- <li><a href="/about/contributors">Contributors</a></li> -->
        </ul>
      </div>
      <div class="col-md-3 col-sm-3 col-xs-6">
        <ul class="list-unstyled">
          <li class="title"><a href="/learn">Learn + Explore</a></li>
          <li><a href="/install">Install C4</a></li>
          <li><a href="/examples">Examples</a></li>
          <li><a href="/tutorials">Tutorials</a></li>
          <li><a href="http://cocoadocs.org/docsets/C4/1.1.0/">Docs</a></li>
        </ul>
      </div>
      <div class="col-md-3 col-sm-3 col-xs-6">
        <ul class="list-unstyled">
          <li class="title"><a href="/contact">Connect</a></li>
          <li><a href="http://discourse.c4ios.com">Forums</a></li>
          <li><a href="http://www.medium.com/@c4framework" target="_blank">Medium</a></li>
          <li><a href="http://www.twitter.com/c4framework" target="_blank">Twitter</a></li>
          <li><a href="https://join-c4.herokuapp.com/" target="_blank">Slack</a></li>
          <li><a href="https://vimeo.com/c4ios" target="_blank">Vimeo</a></li>
          <li><a href="http://github.com/c4framework" target="_blank">GitHub</a></li>
        </ul>
      </div>
      <div class="col-md-3 col-sm-3 col-xs-6">
        <ul class="list-unstyled">
          <!-- <li class="title"><a href="/about">Sign Up for Newsletter</a></li>
          <li><input type="text" placeholder="Enter Email + Press Enter"></li> -->
          <li>© 2016 C4</li>
          <li><a href="/terms">Terms of Use</a></li>
          <li><a href="mailto:info@c4ios.com">Contact</a></li>
        </ul>    
      </div>
    </div>
  </div>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-18444113-4', 'auto');
  ga('send', 'pageview');
</script>


    <script type="text/javascript" src="/js/toc.js"></script>
    <script>
     (function(d, t) {
        var g = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        g.src = 'http://assets.gfycat.com/js/gfyajax-0.517d.js';
        s.parentNode.insertBefore(g, s);
      }(document, 'script'));
    </script>
    <script type="text/javascript">
      $(document).ready(function() {
        $('#toc').width($('#toc').parents().width());

        $('#toc').toc({
          elementClass: 'toc',
          ulClass: 'nav',
          heading: 'Contents',
          indexingFormats: 'number',
          selector: 'h2:not(.toc-omit), h3:not(.toc-omit), h4:not(.toc-omit)'
        });

        $('body').scrollspy({
          target: '#toc',
          offset: $('#headerNav').outerHeight(true)
        });

        setTimeout(function() {
          var $sideBar = $('#toc');
          $sideBar.affix({
            offset: {
              top: function() {
                var offsetTop = $sideBar.offset().top,
                sideBarMargin  = parseInt($sideBar.children(0).css('margin-top'), 10),
                navOuterHeight = $('#headerNav').height();
                return (this.top = offsetTop - navOuterHeight - sideBarMargin);
              },
              bottom: function() {
                return (this.bottom = $('footer').outerHeight(true) + $('.chapter-nav').outerHeight(true) + $('.related-tutorial').outerHeight(true) + 500);
              }
            }
          });
        }, 100);

        $('td.gutter').each(function(index)
        {
          $(this).parents('.language-swift').closest('pre').addClass('has-gutter');
        });

        $('.tutorial img').each(function()
        {
          var img = $(this).attr('src');
          $(this).attr('src', '/images/tutorials/hacking-uiswitch/' + img + '').addClass('img-responsive');
        });

        $('.tutorial p img').unwrap().wrap('<figure></figure>').after(function() {
            return '<figcaption>'+this.alt+'</figcaption>';
        });

        $('.footnotes').prepend('<h4>Footnotes</h4>');
      });
    </script>
  </body>
</html>
