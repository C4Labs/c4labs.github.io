<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
	

  <title>Basics</title>
  <meta name="description" content="The core focus of C4 is to make building beautiful interactive experiences and interfaces. C4 is centered around Apple’s Core Animation (CA) framework, and m...">
  <meta property="og:image" content="http://www.c4ios.com/images/banner.jpg">
  <meta property="og:url"   content="http://c4ios.com" />
  <meta property="og:title" content="Basics"/>
  <meta name="og:description" content="The core focus of C4 is to make building beautiful interactive experiences and interfaces. C4 is centered around Apple’s Core Animation (CA) framework, and m...">
  <meta property="og:type"  content="website"/>
  <meta property="og:site_name"  content="C4"/>

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@c4framework">
  <meta name="twitter:creator" content="@c4framework">
  <meta name="twitter:title" content="Basics">
  <meta name="twitter:description" content="The core focus of C4 is to make building beautiful interactive experiences and interfaces. C4 is centered around Apple’s Core Animation (CA) framework, and m...">
  <meta name="twitter:image" content="http://www.c4ios.com/images/banner.jpg">


  <link rel="stylesheet" type="text/css" href="/css/style.css" >
  <link rel="stylesheet" href="/css/syntax.css">
  <link href='https://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>

  <link rel="canonical" href="www.c4ios.com/tutorials/basics/">
  <link rel="alternate" type="application/rss+xml" title="C4 website" href="www.c4ios.com/feed.xml">
</head>

    <body class="basics" data-spy="scroll" data-target="#toc">

    <header>
  <nav class="navbar navbar-default" role="navigation"> 
    <div class="navbar-header container">
      <div class="row"> 
        <div class="col-xs-12 col-sm-12 col-md-12 navlist">
          <a class="navbar-brand" href="/">
            <span><img src="/images/c4logo.png"></span>
          </a>
          <ul class="nav navbar-nav navbar-left">
            <li><a href="/install" >Install</a></li>
            <li><a href="/tutorials" class='active'>Tutorials</a></li>
            <li><a href="/cosmos" >COSMOS</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="/examples" >Examples</a></li>
            <li><a href="http://discourse.c4ios.com">Forums</a></li>
            <li><a href="http://cocoadocs.org/docsets/C4/1.1.0/">Documentation</a></li>
          </ul>
        </div>
      </div>  
    </div>        
  </nav>      
</header>

    <div class="container content basics" >
      <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 breadcrumb">
          <h1><a href="/tutorials">Tutorials</a><div class="bread-caret">></div>Basics</h1>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-3 col-sm-3 col-md-3">
          <span class="img large">
            <img src="/images/tutorials/basics/poster.png" />
          </span>
          <p>Author<br /><span class="lighter">Travis Kirton</span></p>
          <p>Tags<br /><a href="/tag/getting started">getting started</a>, <a href="/tag/basics">basics</a>, <a href="/tag/introduction">introduction</a>, <a href="/tag/easy">easy</a>, <a href="/tag/c4">c4</a>, </p>
          <p>Estimated Time<br /><span class="lighter">10 - 20 minutes</span></p>

          <hr />

          <div id="toc"></div>
        </div>

        <div class="col-xs-9 col-sm-9 col-md-9 tutorial">
          <p>The core focus of C4 is to make building beautiful interactive experiences and interfaces. C4 is centered around Apple’s Core Animation (CA) framework, and makes programming interactivity, animations and media way faster and way easier than working directly with CA.</p>

<p>This tutorial highlights the basics of getting media on screen and, in some case, playing. It is broken into self-contained examples so that you can jump to any section without having to read through the entire thing.</p>

<blockquote>
  <p>I built all these examples using the C4 Single-view template, that comes from the installer.</p>
</blockquote>

<p>All of the examples below can be pasted into the <code class="highlighter-rouge">setup()</code> function directly in <code class="highlighter-rouge">WorkSpace.swift</code>.</p>

<p>For example, here’s how you can run the circle example:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">override</span> <span class="kd">func</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">circle</span> <span class="o">=</span> <span class="kt">Circle</span><span class="p">(</span><span class="nv">center</span><span class="p">:</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="nv">radius</span><span class="p">:</span> <span class="mi">50</span><span class="p">)</span>
    <span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">circle</span><span class="p">)</span>
<span class="p">}</span></code></pre></figure>

<h2 id="shapes">Shapes</h2>
<p>Shapes are all pretty straightforward: paths that you can style.</p>

<h3 id="squares--rectangles">Squares &amp; Rectangles</h3>
<p>To create a square or a rectangle all you need to do is specify the frame into which it will be drawn:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">square</span> <span class="o">=</span> <span class="kt">Rectangle</span><span class="p">(</span><span class="nv">frame</span><span class="p">:</span> <span class="kt">Rect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">square</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">square</span><span class="p">)</span></code></pre></figure>

<p><img src="01.png" alt="" /></p>

<h3 id="circles">Circles</h3>
<p>To create a circle you need to specify a center point and a radius:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">circle</span> <span class="o">=</span> <span class="kt">Circle</span><span class="p">(</span><span class="nv">center</span><span class="p">:</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="nv">radius</span><span class="p">:</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">circle</span><span class="p">)</span></code></pre></figure>

<p><img src="02.png" alt="" /></p>

<h3 id="ellipses">Ellipses</h3>
<p>For anything that isn’t a circle, you specify the frame (just like a rectangle):</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">ellipse</span> <span class="o">=</span> <span class="kt">Ellipse</span><span class="p">(</span><span class="nv">frame</span><span class="p">:</span> <span class="kt">Rect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">ellipse</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">ellipse</span><span class="p">)</span></code></pre></figure>

<p><img src="03.png" alt="" /></p>

<h3 id="lines">Lines</h3>
<p>To create a line you need to specify a 2-element tuple (i.e. not an array) of <code class="highlighter-rouge">Point</code>:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">points</span> <span class="o">=</span> <span class="p">(</span><span class="kt">Point</span><span class="p">(),</span> <span class="kt">Point</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="k">let</span> <span class="nv">line</span> <span class="o">=</span> <span class="kt">Line</span><span class="p">(</span><span class="n">points</span><span class="p">)</span>
<span class="n">line</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">line</span><span class="p">)</span></code></pre></figure>

<p><img src="04.png" alt="" /></p>

<blockquote>
  <p>Lines are special 2-point polygons whose end points can be updated</p>
</blockquote>

<h3 id="triangles">Triangles</h3>
<p>To create a triangle you need to specify a 3-element array of <code class="highlighter-rouge">Point</code>:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">points</span> <span class="o">=</span> <span class="p">[</span><span class="kt">Point</span><span class="p">(),</span> <span class="kt">Point</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="kt">Point</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]</span>
<span class="k">let</span> <span class="nv">triangle</span> <span class="o">=</span> <span class="kt">Triangle</span><span class="p">(</span><span class="n">points</span><span class="p">)</span>
<span class="n">triangle</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">triangle</span><span class="p">)</span></code></pre></figure>

<p><img src="05.png" alt="" /></p>

<blockquote>
  <p>Triangles are simply 3-point polygons that close between the last point and the first point.</p>
</blockquote>

<h3 id="polygons">Polygons</h3>
<p>To create a polygon you need to specify an n-length array of <code class="highlighter-rouge">Point</code>:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">points</span> <span class="o">=</span> <span class="p">[</span><span class="kt">Point</span><span class="p">(),</span> <span class="kt">Point</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="kt">Point</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="kt">Point</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">100</span><span class="p">)]</span>
<span class="k">let</span> <span class="nv">polygon</span> <span class="o">=</span> <span class="kt">Polygon</span><span class="p">(</span><span class="n">points</span><span class="p">)</span>
<span class="n">polygon</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">polygon</span><span class="p">)</span></code></pre></figure>

<p><img src="06.png" alt="" /></p>

<h3 id="regular-polygons">Regular Polygons</h3>
<p>Creating a regular polygon, whose sides are all equal in length, is similar to creating a circle:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">regularPolyon</span> <span class="o">=</span> <span class="kt">RegularPolygon</span><span class="p">(</span><span class="nv">center</span><span class="p">:</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="nv">radius</span><span class="p">:</span> <span class="mf">50.0</span><span class="p">,</span> <span class="nv">sides</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="nv">phase</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">regularPolyon</span><span class="p">)</span></code></pre></figure>

<p><img src="07.png" alt="" /></p>

<blockquote>
  <p>The phase refers to the inital angle from which to start drawing the shape.</p>
</blockquote>

<h3 id="stars">Stars</h3>
<p>Creating a star is also similar to creating a circle:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">star</span> <span class="o">=</span> <span class="kt">Star</span><span class="p">(</span><span class="nv">center</span><span class="p">:</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="nv">pointCount</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="nv">innerRadius</span><span class="p">:</span> <span class="mf">25.0</span><span class="p">,</span> <span class="nv">outerRadius</span><span class="p">:</span> <span class="mf">50.0</span><span class="p">)</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">star</span><span class="p">)</span></code></pre></figure>

<p><img src="08.png" alt="" /></p>

<h3 id="arcs">Arcs</h3>
<p>Creating an arc is similar to creating a circle, except you also need to add a start and end angle:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">arc</span> <span class="o">=</span> <span class="kt">Arc</span><span class="p">(</span><span class="nv">center</span><span class="p">:</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="nv">radius</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span> <span class="nv">start</span><span class="p">:</span> <span class="kt">M_PI</span><span class="p">,</span> <span class="nv">end</span><span class="p">:</span> <span class="mi">2</span> <span class="o">*</span> <span class="kt">M_PI</span><span class="p">)</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">arc</span><span class="p">)</span></code></pre></figure>

<p><img src="09.png" alt="" /></p>

<h3 id="wedges">Wedges</h3>
<p>Creating a wedge is identical to creating an arc, except that it draws the pie-piece all the way down to the center point of the shape:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">wedge</span> <span class="o">=</span> <span class="kt">Wedge</span><span class="p">(</span><span class="nv">center</span><span class="p">:</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="nv">radius</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span> <span class="nv">start</span><span class="p">:</span> <span class="mf">1.25</span> <span class="o">*</span> <span class="kt">M_PI</span><span class="p">,</span> <span class="nv">end</span><span class="p">:</span> <span class="mf">1.75</span> <span class="o">*</span> <span class="kt">M_PI</span><span class="p">)</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">wedge</span><span class="p">)</span></code></pre></figure>

<p><img src="10.png" alt="" /></p>

<h3 id="text-shapes">Text Shapes</h3>
<p>You can create a text shape by specifying a string and a font:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">string</span> <span class="o">=</span> <span class="s">"C4"</span>
<span class="k">let</span> <span class="nv">textShape</span> <span class="o">=</span> <span class="kt">TextShape</span><span class="p">(</span><span class="nv">text</span><span class="p">:</span> <span class="n">string</span><span class="p">)</span><span class="o">!</span>
<span class="n">textShape</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">textShape</span><span class="p">)</span></code></pre></figure>

<p><img src="11.png" alt="" /></p>

<blockquote>
  <p>The <code class="highlighter-rouge">TextShape</code> initializer is optional because it depends on an optional font. So, you’ll need to handle it properly. Here, I know it will build properly so I force unwrap it with a <code class="highlighter-rouge">!</code>.</p>
</blockquote>

<h2 id="colors">Colors</h2>
<p>C4 has its own color object, and there are a ton of default colors and 3 of our own colors that we’ve cooked into the framework.</p>

<h3 id="c4-colors">C4 Colors</h3>
<p>The three default colors that we have in C4 are from the logo. There is <code class="highlighter-rouge">C4Pink</code>, <code class="highlighter-rouge">C4Purple</code> and <code class="highlighter-rouge">C4Blue</code>. Here’s how to use them:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">r</span> <span class="o">=</span> <span class="kt">Rectangle</span><span class="p">(</span><span class="nv">frame</span><span class="p">:</span> <span class="kt">Rect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">r</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span>
<span class="n">r</span><span class="o">.</span><span class="n">lineWidth</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">r</span><span class="o">.</span><span class="n">strokeColor</span> <span class="o">=</span> <span class="kt">C4Blue</span>
<span class="n">r</span><span class="o">.</span><span class="n">fillColor</span> <span class="o">=</span> <span class="kt">C4Pink</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="n">canvas</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="kt">C4Purple</span></code></pre></figure>

<p><img src="12.png" alt="" /></p>

<h3 id="default-colors">Default Colors</h3>
<p>There are a bunch of default colors cooked into C4. Here’s how to use a couple of them:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">r</span> <span class="o">=</span> <span class="kt">Rectangle</span><span class="p">(</span><span class="nv">frame</span><span class="p">:</span> <span class="kt">Rect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">r</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span>
<span class="n">r</span><span class="o">.</span><span class="n">lineWidth</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">r</span><span class="o">.</span><span class="n">strokeColor</span> <span class="o">=</span>  <span class="n">green</span>
<span class="n">r</span><span class="o">.</span><span class="n">fillColor</span> <span class="o">=</span> <span class="n">blue</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="n">canvas</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="n">red</span></code></pre></figure>

<p><img src="13.png" alt="" /></p>

<blockquote>
  <p>Check out <code class="highlighter-rouge">Color.swift</code> for all the default colors.</p>
</blockquote>

<h3 id="custom-colors">Custom Colors</h3>
<p>Creating a custom color is pretty straightforward, you need to specify the RGBA components:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="n">canvas</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="kt">Color</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mf">0.75</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span></code></pre></figure>

<p><img src="14.png" alt="" /></p>

<h3 id="pattern-colors">Pattern Colors</h3>
<p>You can create colors from images too! Do it:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">r</span> <span class="o">=</span> <span class="kt">Rectangle</span><span class="p">(</span><span class="nv">frame</span><span class="p">:</span> <span class="kt">Rect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">96</span><span class="p">,</span> <span class="mi">96</span><span class="p">))</span>
<span class="n">r</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span>
<span class="n">r</span><span class="o">.</span><span class="n">fillColor</span> <span class="o">=</span> <span class="kt">Color</span><span class="p">(</span><span class="s">"pattern1"</span><span class="p">)</span>
<span class="n">r</span><span class="o">.</span><span class="n">lineWidth</span> <span class="o">=</span> <span class="mf">8.0</span>
<span class="n">r</span><span class="o">.</span><span class="n">strokeColor</span> <span class="o">=</span> <span class="kt">Color</span><span class="p">(</span><span class="s">"pattern2"</span><span class="p">)</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">r</span><span class="p">)</span></code></pre></figure>

<p><img src="15.png" alt="" /></p>

<h2 id="images">Images</h2>
<p>To add an image you simply specify the name of the file you want to use:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">image</span> <span class="o">=</span> <span class="kt">Image</span><span class="p">(</span><span class="s">"chop"</span><span class="p">)</span><span class="o">!</span>
<span class="n">image</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">image</span><span class="p">)</span></code></pre></figure>

<p><img src="16.png" alt="" /></p>

<h3 id="filters">Filters</h3>
<p>There are some nice filters that are already a part of C4. You can apply a filter to an image like this:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">image</span> <span class="o">=</span> <span class="kt">Image</span><span class="p">(</span><span class="s">"chop"</span><span class="p">)</span>
<span class="n">image</span><span class="p">?</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>

<span class="k">var</span> <span class="nv">dotScreen</span> <span class="o">=</span> <span class="kt">DotScreen</span><span class="p">()</span>
<span class="n">dotScreen</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mf">10.0</span>
<span class="n">image</span><span class="p">?</span><span class="o">.</span><span class="nf">apply</span><span class="p">(</span><span class="n">dotScreen</span><span class="p">)</span></code></pre></figure>

<p><img src="17.png" alt="" /></p>

<h3 id="generators">Generators</h3>
<p>There are also image generators:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">image</span> <span class="o">=</span> <span class="kt">Image</span><span class="p">()</span>
<span class="n">image</span><span class="o">.</span><span class="n">frame</span> <span class="o">=</span> <span class="kt">Rect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">checkerBoard</span> <span class="o">=</span> <span class="kt">Checkerboard</span><span class="p">()</span>
<span class="n">image</span><span class="o">.</span><span class="nf">generate</span><span class="p">(</span><span class="n">checkerBoard</span><span class="p">)</span>
<span class="n">image</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">image</span><span class="p">)</span></code></pre></figure>

<p><img src="18.png" alt="" /></p>

<blockquote>
  <p>Notice that I didn’t use an optional here. This is because creating an empty image from a frame is always going to return an object. Unlike specifying a “fileName” that may or may not exist.</p>
</blockquote>

<h2 id="movies">Movies</h2>
<p>Like images, you can easily add movies to your apps by specifying the name:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">movie</span> <span class="o">=</span> <span class="kt">Movie</span><span class="p">(</span><span class="s">"halo.mp4"</span><span class="p">)</span>
<span class="n">movie</span><span class="p">?</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">movie</span><span class="p">)</span>
<span class="n">movie</span><span class="p">?</span><span class="o">.</span><span class="nf">play</span><span class="p">()</span></code></pre></figure>

<p><img src="" alt="" data-id="VainWastefulGavial" class="gfyitem" /></p>

<blockquote>
  <p>Unlike images, you need to specify the file extension of the movie.</p>
</blockquote>

<h2 id="audio-players">Audio Players</h2>
<p>Even though you specify the file name (incl. extension) creating an audio players is a little different than a movie. You need to create a variable outside the scope of the method you’re using to set it up:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">player</span> <span class="o">=</span> <span class="kt">AudioPlayer</span><span class="p">(</span><span class="s">"C4Loop.aif"</span><span class="p">)</span>

<span class="k">override</span> <span class="kd">func</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">player</span><span class="p">?</span><span class="o">.</span><span class="n">loops</span> <span class="o">=</span> <span class="kc">true</span>
    <span class="n">player</span><span class="p">?</span><span class="o">.</span><span class="nf">play</span><span class="p">()</span>
<span class="p">}</span></code></pre></figure>

<blockquote>
  <p>When a movie is added to the canvas it gets a strong reference because it’s a subview of the canvas. Since an audio player is not a visible object to add to a subview, you need to store a reference to it as a variable.</p>
</blockquote>

<h2 id="gestures">Gestures</h2>
<p>Compared to UIKit, adding a gesture is a cinch. In C4, every visible object is ready to have gestures attached to it, even the main canvas.</p>

<h3 id="tap">Tap</h3>
<p>You can add a tap gesture to any object like so:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">square</span> <span class="o">=</span> <span class="kt">Rectangle</span><span class="p">(</span><span class="nv">frame</span><span class="p">:</span> <span class="kt">Rect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">square</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">square</span><span class="p">)</span>

<span class="n">square</span><span class="o">.</span><span class="n">addTapGestureRecognizer</span> <span class="p">{</span> <span class="n">location</span><span class="p">,</span> <span class="n">state</span> <span class="k">in</span>
    <span class="k">let</span> <span class="nv">randomColor</span> <span class="o">=</span> <span class="kt">Color</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="nf">random01</span><span class="p">(),</span> <span class="nv">green</span><span class="p">:</span> <span class="nf">random01</span><span class="p">(),</span> <span class="nv">blue</span><span class="p">:</span> <span class="nf">random01</span><span class="p">(),</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span>
    <span class="k">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="n">randomColor</span>
<span class="p">}</span></code></pre></figure>

<p><img src="" alt="" data-id="SpiritedAggravatingIceblueredtopzebra" class="gfyitem" />
]
### Pan
You can add a pan gesture to any object. In this example, panning (i.e. dragging) on the canvas will update the position of the square:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">square</span> <span class="o">=</span> <span class="kt">Rectangle</span><span class="p">(</span><span class="nv">frame</span><span class="p">:</span> <span class="kt">Rect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">square</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">square</span><span class="p">)</span>

<span class="n">canvas</span><span class="o">.</span><span class="n">addPanGestureRecognizer</span> <span class="p">{</span> <span class="n">location</span><span class="p">,</span> <span class="n">translation</span><span class="p">,</span> <span class="n">velocity</span><span class="p">,</span> <span class="n">state</span> <span class="k">in</span>
    <span class="n">square</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">location</span>
<span class="p">}</span></code></pre></figure>

<p><img src="" alt="" data-id="VigilantThoroughFoxterrier" class="gfyitem" /></p>

<h3 id="animations">Animations</h3>
<p>Almost every single object in C4 is animatable in one way or another. Visible objects have the most animatable properties, but others like <code class="highlighter-rouge">AudioPlayers</code> can also animate things like their pan properties.</p>

<p>In general, a good rule of thumb is:</p>

<blockquote>
  <p>If an object has a property, it’s probably animatable.</p>
</blockquote>

<h3 id="properties">Properties</h3>
<p>To animate something you create a <code class="highlighter-rouge">ViewAnimation</code> and put some code to change inside that object’s block. For example, the <code class="highlighter-rouge">background</code> property of any object (including the canvas) is animatable:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kt">ViewAnimation</span><span class="p">(</span><span class="nv">duration</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="kt">C4Blue</span>
<span class="p">}</span><span class="o">.</span><span class="nf">animate</span><span class="p">()</span></code></pre></figure>

<p>The previous block will immediately animate the background color to <code class="highlighter-rouge">C4Blue</code>, taking 1 second to do so.</p>

<p>You can also create the animation as an object, change its properties and animate it later, like so:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">anim</span> <span class="o">=</span> <span class="kt">ViewAnimation</span><span class="p">(</span><span class="nv">duration</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="kt">C4Blue</span>
<span class="p">}</span>

<span class="n">anim</span><span class="o">.</span><span class="n">curve</span> <span class="o">=</span> <span class="o">.</span><span class="kt">EaseOut</span>
<span class="n">anim</span><span class="o">.</span><span class="n">repeats</span> <span class="o">=</span> <span class="kc">true</span>

<span class="nf">wait</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">anim</span><span class="o">.</span><span class="nf">animate</span><span class="p">()</span>
<span class="p">}</span></code></pre></figure>

<p><img src="" alt="" data-id="SoulfulMenacingCrownofthornsstarfish" class="gfyitem" /></p>

<h3 id="groups">Groups</h3>
<p>If you have a bunch of animations that you want to start at the exact same time, you can do that by creating a <code class="highlighter-rouge">ViewAnimationGroup</code>:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">square</span> <span class="o">=</span> <span class="kt">Rectangle</span><span class="p">(</span><span class="nv">frame</span><span class="p">:</span> <span class="kt">Rect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">square</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">square</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">circle</span> <span class="o">=</span> <span class="kt">Circle</span><span class="p">(</span><span class="nv">center</span><span class="p">:</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="nv">radius</span><span class="p">:</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">circle</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">squareAnim</span> <span class="o">=</span> <span class="kt">ViewAnimation</span><span class="p">(</span><span class="nv">duration</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">square</span><span class="o">.</span><span class="n">transform</span> <span class="o">=</span> <span class="kt">Transform</span><span class="o">.</span><span class="nf">makeRotation</span><span class="p">(</span><span class="kt">M_PI</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">circleAnim</span> <span class="o">=</span> <span class="kt">ViewAnimation</span><span class="p">(</span><span class="nv">duration</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">randomColor</span> <span class="o">=</span> <span class="kt">Color</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="nf">random01</span><span class="p">(),</span> <span class="nv">green</span><span class="p">:</span> <span class="nf">random01</span><span class="p">(),</span> <span class="nv">blue</span><span class="p">:</span> <span class="nf">random01</span><span class="p">(),</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span>
    <span class="n">circle</span><span class="o">.</span><span class="n">fillColor</span> <span class="o">=</span> <span class="n">randomColor</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">group</span> <span class="o">=</span> <span class="kt">ViewAnimationGroup</span><span class="p">(</span><span class="nv">animations</span><span class="p">:</span> <span class="p">[</span><span class="n">squareAnim</span><span class="p">,</span> <span class="n">circleAnim</span><span class="p">])</span>

<span class="nf">wait</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">group</span><span class="o">.</span><span class="nf">animate</span><span class="p">()</span>
<span class="p">}</span></code></pre></figure>

<p><img src="" alt="" data-id="ClearcutNaiveAfricanparadiseflycatcher" class="gfyitem" /></p>

<h3 id="sequences">Sequences</h3>
<p>To execute a bunch of animations one after another you can use a <code class="highlighter-rouge">ViewAnimationSequence</code>:</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">square</span> <span class="o">=</span> <span class="kt">Rectangle</span><span class="p">(</span><span class="nv">frame</span><span class="p">:</span> <span class="kt">Rect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">square</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">square</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">circle</span> <span class="o">=</span> <span class="kt">Circle</span><span class="p">(</span><span class="nv">center</span><span class="p">:</span> <span class="n">canvas</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="nv">radius</span><span class="p">:</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">canvas</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">circle</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">squareAnim</span> <span class="o">=</span> <span class="kt">ViewAnimation</span><span class="p">(</span><span class="nv">duration</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">square</span><span class="o">.</span><span class="n">transform</span> <span class="o">=</span> <span class="kt">Transform</span><span class="o">.</span><span class="nf">makeRotation</span><span class="p">(</span><span class="kt">M_PI</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">circleAnim</span> <span class="o">=</span> <span class="kt">ViewAnimation</span><span class="p">(</span><span class="nv">duration</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">randomColor</span> <span class="o">=</span> <span class="kt">Color</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="nf">random01</span><span class="p">(),</span> <span class="nv">green</span><span class="p">:</span> <span class="nf">random01</span><span class="p">(),</span> <span class="nv">blue</span><span class="p">:</span> <span class="nf">random01</span><span class="p">(),</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span>
    <span class="n">circle</span><span class="o">.</span><span class="n">fillColor</span> <span class="o">=</span> <span class="n">randomColor</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">sequence</span> <span class="o">=</span> <span class="kt">ViewAnimationSequence</span><span class="p">(</span><span class="nv">animations</span><span class="p">:</span> <span class="p">[</span><span class="n">squareAnim</span><span class="p">,</span> <span class="n">circleAnim</span><span class="p">])</span>

<span class="nf">wait</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">sequence</span><span class="o">.</span><span class="nf">animate</span><span class="p">()</span>
<span class="p">}</span></code></pre></figure>

<p><img src="" alt="" data-id="InferiorVictoriousAngelwingmussel" class="gfyitem" /></p>

<h3 id="now-you-can-build-anything">Now You Can Build Anything</h3>
<p>Shapes. Images. Movies. Audio. Gestures. Animations. These are the basics you’ll need to build any of the amazing iOS experiences you can imagine.</p>

<p>Grab of a copy of the the code from this tutorial: <a href="https://gist.github.com/C4Framework/305d049e3a3da31477a1">Basics Tutorial Code</a></p>

<blockquote>
  <p>Seriously. Complex interfaces and UI elements are all really just made up of these fundamental building blocks.</p>
</blockquote>

        </div>
      </div>
    </div>

    <div class="container">
      <div class="row related-tutorial">
        <div class="col-xs-12 col-md-12">
          <h1 class="text-center blue">Nice Work! Explore More Tutorials?</h1>
          <ul class="examples-list list-unstyled">
            
            
              <li>
                <a href="/tutorials/slack-logo/">
                  <div>
                    <span class="img">
                      <img src="/images/tutorials/slack-logo/poster.png" />
                    </span>
                    <div class="text">
                      <p><span>Slack Logo</span><br />Animating the Slack Logo.</p>
                    </div>                    
                  </div>
                </a>
              </li>
            
              <li>
                <a href="/tutorials/customizing-switch/">
                  <div>
                    <span class="img">
                      <img src="/images/tutorials/customizing-switch/poster.png" />
                    </span>
                    <div class="text">
                      <p><span>Customizing A Switch</span><br />We've already hacked UISwitch, now let's add animations!</p>
                    </div>                    
                  </div>
                </a>
              </li>
            
              <li>
                <a href="/tutorials/skype/">
                  <div>
                    <span class="img">
                      <img src="/images/tutorials/skype/poster.png" />
                    </span>
                    <div class="text">
                      <p><span>Skype Loader</span><br />A View within a View within a View.</p>
                    </div>                    
                  </div>
                </a>
              </li>
            
              <li>
                <a href="/tutorials/checkmark/">
                  <div>
                    <span class="img">
                      <img src="/images/tutorials/checkmark/poster.png" />
                    </span>
                    <div class="text">
                      <p><span>Checkmark</span><br />An sweetly timed animation.</p>
                    </div>                    
                  </div>
                </a>
              </li>
            
              <li>
                <a href="/tutorials/hacking-uiswitch/">
                  <div>
                    <span class="img">
                      <img src="/images/tutorials/hacking-uiswitch/poster.png" />
                    </span>
                    <div class="text">
                      <p><span>Hacking UISwitch</span><br />How to hack a UIKit component.</p>
                    </div>                    
                  </div>
                </a>
              </li>
            
              <li>
                <a href="/tutorials/processing/">
                  <div>
                    <span class="img">
                      <img src="/images/tutorials/processing/poster.png" />
                    </span>
                    <div class="text">
                      <p><span>Processing Examples</span><br />A brief comparison of Processing and C4.</p>
                    </div>                    
                  </div>
                </a>
              </li>
            
              <li>
                <a href="/tutorials/basics/">
                  <div>
                    <span class="img">
                      <img src="/images/tutorials/basics/poster.png" />
                    </span>
                    <div class="text">
                      <p><span>Basics</span><br />An intro to C4's basic objects and features.</p>
                    </div>                    
                  </div>
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-md-3 col-sm-3 col-xs-6">
        <ul class="list-unstyled">
          <li class="title"><a href="/#overview">About</a></li>
          <li><a href="/#overview">Features</a></li>
          <!-- <li><a href="/about#history">History</a></li> -->
          <!-- <li><a href="/about/contributors">Contributors</a></li> -->
        </ul>
      </div>
      <div class="col-md-3 col-sm-3 col-xs-6">
        <ul class="list-unstyled">
          <li class="title"><a href="/learn">Learn + Explore</a></li>
          <li><a href="/install">Install C4</a></li>
          <li><a href="/examples">Examples</a></li>
          <li><a href="/tutorials">Tutorials</a></li>
          <li><a href="http://cocoadocs.org/docsets/C4/1.1.0/">Docs</a></li>
        </ul>
      </div>
      <div class="col-md-3 col-sm-3 col-xs-6">
        <ul class="list-unstyled">
          <li class="title"><a href="/contact">Connect</a></li>
          <li><a href="http://discourse.c4ios.com">Forums</a></li>
          <li><a href="http://www.medium.com/@c4framework" target="_blank">Medium</a></li>
          <li><a href="http://www.twitter.com/c4framework" target="_blank">Twitter</a></li>
          <li><a href="https://join-c4.herokuapp.com/" target="_blank">Slack</a></li>
          <li><a href="https://vimeo.com/c4ios" target="_blank">Vimeo</a></li>
          <li><a href="http://github.com/c4framework" target="_blank">GitHub</a></li>
        </ul>
      </div>
      <div class="col-md-3 col-sm-3 col-xs-6">
        <ul class="list-unstyled">
          <!-- <li class="title"><a href="/about">Sign Up for Newsletter</a></li>
          <li><input type="text" placeholder="Enter Email + Press Enter"></li> -->
          <li>© 2016 C4</li>
          <li><a href="/terms">Terms of Use</a></li>
          <li><a href="mailto:info@c4ios.com">Contact</a></li>
        </ul>    
      </div>
    </div>
  </div>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-18444113-4', 'auto');
  ga('send', 'pageview');
</script>


    <script type="text/javascript" src="/js/toc.js"></script>
    <script>
     (function(d, t) {
        var g = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        g.src = 'http://assets.gfycat.com/js/gfyajax-0.517d.js';
        s.parentNode.insertBefore(g, s);
      }(document, 'script'));
    </script>
    <script type="text/javascript">
      $(document).ready(function() {
        $('#toc').width($('#toc').parents().width());

        $('#toc').toc({
          elementClass: 'toc',
          ulClass: 'nav',
          heading: 'Contents',
          indexingFormats: 'number',
          selector: 'h2:not(.toc-omit), h3:not(.toc-omit), h4:not(.toc-omit)'
        });

        $('body').scrollspy({
          target: '#toc',
          offset: $('#headerNav').outerHeight(true)
        });

        setTimeout(function() {
          var $sideBar = $('#toc');
          $sideBar.affix({
            offset: {
              top: function() {
                var offsetTop = $sideBar.offset().top,
                sideBarMargin  = parseInt($sideBar.children(0).css('margin-top'), 10),
                navOuterHeight = $('#headerNav').height();
                return (this.top = offsetTop - navOuterHeight - sideBarMargin);
              },
              bottom: function() {
                return (this.bottom = $('footer').outerHeight(true) + $('.chapter-nav').outerHeight(true) + $('.related-tutorial').outerHeight(true) + 500);
              }
            }
          });
        }, 100);

        $('td.gutter').each(function(index)
        {
          $(this).parents('.language-swift').closest('pre').addClass('has-gutter');
        });

        $('.tutorial img').each(function()
        {
          var img = $(this).attr('src');
          $(this).attr('src', '/images/tutorials/basics/' + img + '').addClass('img-responsive');
        });

        $('.tutorial p img').unwrap().wrap('<figure></figure>').after(function() {
            return '<figcaption>'+this.alt+'</figcaption>';
        });

        $('.footnotes').prepend('<h4>Footnotes</h4>');
      });
    </script>
  </body>
</html>
